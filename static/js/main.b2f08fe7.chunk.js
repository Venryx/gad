(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){e.exports=n.p+"static/media/gad-logo-small-white.86ba0532.png"},141:function(e,t,n){e.exports=n.p+"static/media/gad-title.9e8f6898.png"},143:function(e,t,n){e.exports=n(360)},148:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var r,a,i=n(2),o=n.n(i),c=n(51),l=n.n(c),u=n(3),s=n(4),d=n(8),p=n(7),f=n(9),b=n(18),h=n(30),y=n(13),v=n(35),m=n.n(v),O=(n(148),n(138)),j=n.n(O),g=function(e){var t=i.useState(!0),n=Object(y.a)(t,2),r=n[0],a=n[1],o=function(e){a(!r)};return i.createElement("header",null,i.createElement("nav",{className:"top-nav"},i.createElement(b.b,{to:"/"},i.createElement("img",{src:j.a,alt:"The Great American Debate"})),i.createElement("button",{className:"menu-button stylized-button stylized-button-small",onClick:o},"Menu")),i.createElement("aside",{className:m()("main-menu",{hidden:r})},i.createElement("div",{className:"main-menu-header"},i.createElement("button",{className:"stylized-button main-menu-close",onClick:o},"Close"))))},D=function(e){var t=e.animation,n=e.duration,r=e.options,a={fadeOut:[{opacity:1},{opacity:0}]},o={once:{duration:n,iterations:1,fill:"forwards"}},c=function(e){e.preventDefault(),document.getElementsByClassName("page")[0].animate(a[t],o[r]),window.setTimeout(function(){window.location=e.target.closest("a").href},n)};return i.useEffect(function(){return window.requestAnimationFrame(function(){for(var e=document.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].addEventListener("click",c)}),function(){for(var e=document.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].removeEventListener("click",c)}},[]),null},w=(n(153),n(141)),I=n.n(w),k=function(e){return i.createElement("section",{className:"page welcome"},i.createElement(D,{duration:200,animation:"fadeOut",options:"once"}),i.createElement("div",{className:"font-preloader"},i.createElement("span",null,"Load")," ",i.createElement("span",null,"the")," ",i.createElement("span",null,"fonts")),i.createElement("div",{className:"top-container"},i.createElement("img",{className:"title-image",src:I.a}),i.createElement("h3",{className:"subheading"},i.createElement("span",null,"america's arguments,")," ",i.createElement("span",null,"all in one place"))),i.createElement("div",{className:"bottom-container"},i.createElement(b.b,{to:"/debates",className:"explore-button stylized-button drop-shadow"},"Explore"),i.createElement("div",{className:"welcome-animation"},i.createElement("div",{className:"animation-container"},i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative reversed"})),i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative"})),i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative reversed"})),i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative"})),i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative"})),i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative"})),i.createElement("div",{className:"speech-bubble-container"},i.createElement("div",{className:"speech-bubble decorative"}))),i.createElement("div",{className:"animation-container"},i.createElement("div",{className:"shadow"}),i.createElement("div",{className:"shadow"}),i.createElement("div",{className:"shadow"})),i.createElement("div",{className:"animation-container"},i.createElement("div",{className:"star-container"},i.createElement("div",{className:"star"})),i.createElement("div",{className:"star-container"},i.createElement("div",{className:"star"})),i.createElement("div",{className:"star-container"},i.createElement("div",{className:"star"})),i.createElement("div",{className:"star-container"},i.createElement("div",{className:"star"})),i.createElement("div",{className:"star-container"},i.createElement("div",{className:"star"}))))))},_=(n(154),function(e){var t=e.title,n=e.subtitle,r=e.titleSize,a=e.subtitleSize;return i.createElement("div",{className:"title-block"},i.createElement("h1",{className:m()({"text-size-xxs":"xxs"==r},{"text-size-xs":"xs"==r},{"text-size-s":"s"==r},{"text-size-m":"m"==r},{"text-size-l":"l"==r},{"text-size-xl":"xl"==r})},t),i.createElement("h2",{className:m()("text-color-light",{"text-size-xxs":"xxs"==a},{"text-size-xs":"xs"==a},{"text-size-s":"s"==a},{"text-size-m":"m"==a},{"text-size-l":"l"==a},{"text-size-xl":"xl"==a})},n))}),N=(n(155),function(e){var t=e.exploreScore,n=e.size;return i.createElement("button",{className:m()("explore-score","circle","bezel-xs","drop-shadow",{"circle-s":"s"===n},{"circle-m":!n||"m"===n},{"circle-l":"l"===n})},i.createElement("p",null,t,"%"),i.createElement("p",null,"explore score"))}),P=(n(156),function(e){var t=e.title,n=e.subdebates;e.exploreScore;return i.createElement("div",{className:"topic-container"},i.createElement("button",{className:"topic-title circle circle-l bezel-s"},i.createElement("h2",null,t)),i.createElement("button",{className:"topic-search circle circle-s bezel-xs drop-shadow"},"\ud83d\udd0d"),i.createElement("button",{className:"topic-media circle circle-m bezel-xs drop-shadow"},i.createElement("p",null,"media")),i.createElement(N,{exploreScore:38}),i.createElement("button",{className:"topic-subdebates circle circle-m bezel-xs drop-shadow"},i.createElement("p",null,n),i.createElement("p",null,"sub-debates")),i.createElement("button",{className:"topic-help circle circle-s bezel-xs drop-shadow"},i.createElement("p",null,"?")))}),A=(n(157),function(e){return i.createElement("main",{className:"page debates"},i.createElement(D,{duration:200,animation:"fadeOut",options:"once"}),i.createElement(_,{title:"Welcome!",subtitle:"please explore and search"}),i.createElement("div",{className:"bottom-container"},i.createElement(P,{title:"Climate Change",exploreScore:38,subdebates:170}),i.createElement(b.b,{to:"/questions",className:"page-cta"},"Get into the debate >")))}),E=n(44),R=(n(158),n(0)),C=n(1),S=n(10),T=n(15);!function(e){e[e.Category=10]="Category",e[e.Package=20]="Package",e[e.MultiChoiceQuestion=30]="MultiChoiceQuestion",e[e.Claim=40]="Claim",e[e.Argument=50]="Argument"}(a||(a={}));var x=function e(t){Object(u.a)(this,e),Object(C.c)(this).VSet(t)};x.for=(r={},Object(S.a)(r,a.Category,new x({childTypes:[a.Category,a.Package,a.MultiChoiceQuestion,a.Claim],minWidth:100,maxWidth:250})),Object(S.a)(r,a.Package,new x({childTypes:[a.Claim],minWidth:100,maxWidth:250})),Object(S.a)(r,a.MultiChoiceQuestion,new x({childTypes:[a.Claim],minWidth:100,maxWidth:250})),Object(S.a)(r,a.Claim,new x({childTypes:[a.Argument],minWidth:350,maxWidth:550})),Object(S.a)(r,a.Argument,new x({childTypes:[a.Claim,a.Argument],minWidth:100,maxWidth:300})),r);var M,U;!function(e){e[e.Basic=10]="Basic",e[e.Verified=20]="Verified",e[e.Mod=30]="Mod",e[e.Admin=40]="Admin"}(M||(M={})),function(e){e[e.Base=10]="Base",e[e.Negation=20]="Negation",e[e.YesNoQuestion=30]="YesNoQuestion"}(U||(U={}));var V,G=function e(t){Object(u.a)(this,e),Object(C.c)(this).VSet(t)};Object(R.b)("MapNode",{properties:{type:{oneOf:Object(C.l)(a)},creator:{type:"string"},createdAt:{type:"number"},rootNodeForMap:{$ref:"UUID"},ownerMapID:{$ref:"UUID"},currentRevision:{type:"string"},parents:{$ref:"ParentSet"},children:{$ref:"ChildSet"},childrenOrder:{items:{$ref:"UUID"}},multiPremiseArgument:{type:"boolean"},layerPlusAnchorParents:{$ref:"LayerPlusAnchorParentSet"}},required:["type","creator","createdAt","currentRevision"]}),Object(R.b)("MapNode_Partial",function(){var e=Object(R.l)("MapNode");return e.required=["type"],e}()),function(e){e[e.Supporting=10]="Supporting",e[e.Opposing=20]="Opposing"}(V||(V={})),Object(R.b)("ParentSet",{patternProperties:Object(S.a)({},R.t,{$ref:"ParentEntry"})}),Object(R.b)("ParentEntry",{properties:{_:{type:"boolean"}},required:["_"]}),Object(R.b)("ChildSet",{patternProperties:Object(S.a)({},R.t,{$ref:"ChildEntry"})}),Object(R.b)("ChildEntry",{properties:{_:{type:"boolean"},form:{oneOf:Object(C.l)(U)},seriesAnchor:{type:["null","boolean"]},polarity:{oneOf:Object(C.l)(V)}},required:["_"]}),Object(R.b)("LayerPlusAnchorParentSet",{patternProperties:Object(S.a)({},"".concat(R.u,"\\+").concat(R.u),{type:"boolean"})});var q;Object(R.b)("TitlesMap",{properties:{base:{type:"string"},negation:{type:"string"},yesNoQuestion:{type:"string"},allTerms:{type:"object"}}}),function(e){e[e.Creator=10]="Creator",e[e.MapEditors=20]="MapEditors",e[e.Anyone=30]="Anyone"}(q||(q={}));var B=function e(t){Object(u.a)(this,e),Object(C.c)(this).VSet(t)};Object(R.b)("PermissionInfo",{properties:{type:{oneOf:Object(C.l)(q)},mapID:{type:"string"}},required:["type"]});var $=["accessLevel","votingDisabled","permission_edit","permission_contribute"];var F,L,X=function e(t){Object(u.a)(this,e),this.titles={base:""},this.accessLevel=M.Basic,this.permission_edit=new B({type:q.Creator}),this.permission_contribute=new B({type:q.Anyone}),Object(C.c)(this).VSet(t)};Object(R.b)("MapNodeRevision",{properties:{node:{type:"string"},creator:{type:"string"},createdAt:{type:"number"},titles:{properties:{base:{type:"string"},negation:{type:"string"},yesNoQuestion:{type:"string"}}},note:{type:["null","string"]},termAttachments:{items:{$ref:"TermAttachment"}},argumentType:{$ref:"ArgumentType"},equation:{$ref:"EquationAttachment"},references:{$ref:"ReferencesAttachment"},quote:{$ref:"QuoteAttachment"},image:{$ref:"ImageAttachment"},accessLevel:{oneOf:Object(C.l)(M).concat({const:null})},votingDisabled:{type:["null","boolean"]},permission_edit:{$ref:"PermissionInfo"},permission_contribute:{$ref:"PermissionInfo"},fontSizeOverride:{type:["number","null"]},widthOverride:{type:["number","null"]}},required:["node","creator","createdAt"],allOf:[{if:{prohibited:["argumentType","equation","quote","image"]},then:{required:["titles"]}}]}),Object(R.b)("MapNodeRevision_Partial",function(){var e=Object(R.l)("MapNodeRevision");return e.required=[],e}()),function(e){e[e.Any=10]="Any",e[e.AnyTwo=15]="AnyTwo",e[e.All=20]="All"}(F||(F={})),Object(R.b)("ArgumentType",{oneOf:Object(C.l)(F)}),function(e){e[e.Private=10]="Private",e[e.Public=20]="Public",e[e.Global=30]="Global"}(L||(L={}));Object(R.b)("Map",["MapNodeRevision"],function(){var e;return{properties:{name:{type:"string",pattern:"^[a-zA-Z0-9 ,'\"%:.?\\-()\\/]+$"},note:{type:"string"},noteInline:{type:"boolean"},type:{oneOf:Object(C.l)(L)},rootNode:{type:"string"},defaultExpandDepth:{type:"number"},defaultTimelineID:{type:"string"},requireMapEditorsCanEdit:{type:"boolean"},nodeDefaults:Object(R.o)({properties:(e=Object(C.c)(Object(R.l)("MapNodeRevision").properties)).Including.apply(e,Object(T.a)($))}),featured:{type:"boolean"},editorIDs:{items:{type:"string"}},creator:{type:"string"},createdAt:{type:"number"},edits:{type:"number"},editedAt:{type:"number"},layers:{patternProperties:Object(S.a)({},R.t,{type:"boolean"})},timelines:{patternProperties:Object(S.a)({},R.t,{type:"boolean"})}},required:["name","type","rootNode","creator","createdAt"]}});var W=Object(R.s)(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(R.k)({},function(e){return e.maps});if(!t)return C.G;var n=Object(C.x)(t).VValues();return e&&(n=Object(C.c)(n).OrderByDescending(function(e){return Object(C.C)(e&&e.edits,0)})),n}}),z=(Object(R.s)(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return W(e).filter(function(e){return e&&e.type==L.Private})}}),Object(R.s)(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return W(e).filter(function(e){return e&&e.type==L.Public})}}),Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.maps.get(e)})}})),Y=(n(5),new R.h);Object(R.p)({fire:Y}),n(92);var K=Object(R.s)(function(e){return function(){return Y.userInfo}}),Q=(Object(R.s)(function(e){return function(){return Y.userInfo_raw}}),Object(R.s)(function(e){return function(){return Object(R.m)(K())?K().id:null}})),Z=(Object(R.s)(function(e){return function(){return Z(Q())}}),Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.users.get(e)})}}));Object(R.s)(function(e){return function(){return Object(R.k)({},function(e){return e.users})}});function J(){var e="mapID";if(!Object(C.n)(arguments.length<=0?void 0:arguments[0]))return e=arguments.length<=0?void 0:arguments[0],t;function t(t){if(t.prototype instanceof R.g){var n=t.prototype.Validate;t.prototype.Validate=function(){var t,r=n.apply(this),a=this.payload[e];if(a){var i=z(a);null!=i&&(this.map_oldEditCount=null!==(t=i.edits)&&void 0!==t?t:0)}return r}}var r=t.prototype.GetDBUpdates;t.prototype.GetDBUpdates=function(){var t=r.apply(this),n={};if(null!=this.map_oldEditCount){var a=this.payload[e];a&&(n["maps/".concat(a,"/.edits")]=this.map_oldEditCount+1,n["maps/".concat(a,"/.editedAt")]=Date.now())}return Object(R.n)(t,n)}}t(arguments.length<=0?void 0:arguments[0])}function H(e){if(e.prototype instanceof R.g){var t=e.prototype.Validate;e.prototype.Validate=function(){var e,n=t.apply(this),r=Z(this.userInfo.id);return r&&(this.user_oldEditCount=null!==(e=r.edits)&&void 0!==e?e:0),n}}var n=e.prototype.GetDBUpdates;e.prototype.GetDBUpdates=function(){var e=n.apply(this),t={};return null!=this.user_oldEditCount&&(t["users/".concat(this.userInfo.id,"/.edits")]=this.user_oldEditCount+1,t["users/".concat(this.userInfo.id,"/.lastEditAt")]=Date.now()),Object(R.n)(e,t)}}var ee,te=Object(R.s)(function(e){return function(e){return null==e||Object(C.o)(e)?null:Object(R.j)({},function(t){return t.nodeRevisions.get(e)})}}),ne=Object(R.s)(function(e){return function(e){return Object(R.k)({queryOps:[new R.w("node","==",e)]},function(e){return e.nodeRevisions})}}),re=Object(R.s)(function(e){return function(e,t){return Object(R.k)({queryOps:[new R.w("titles.".concat(t),"==",e)]},function(e){return e.nodeRevisions})}}),ae=Object(R.s)(function(e){return function(e){return null==e||Object(C.o)(e)?null:Object(R.j)({},function(t){return t.images.get(e)})}});Object(R.s)(function(e){return function(){return Object(R.k)({},function(e){return e.images})}}),Object(R.s)(function(e){return function(e){return Object(R.k)({queryOps:[new R.w("url","==",e)]},function(e){return e.images})}});Object(R.b)("SourceChain",{properties:{sources:{items:{$ref:"Source"},minItems:1}},required:["sources"]}),function(e){e[e.Speech=10]="Speech",e[e.Writing=20]="Writing",e[e.Webpage=50]="Webpage"}(ee||(ee={})),Object(R.b)("SourceType",{oneOf:Object(C.l)(ee)});var ie;Object(R.b)("Source",{properties:{type:{$ref:"SourceType"},name:{pattern:"\\S.*"},author:{pattern:"\\S.*"},link:{type:"string"}},allOf:[{if:{properties:{type:{enum:[ee.Writing,ee.Speech]}}},then:{anyOf:[{required:["name"]},{required:["author"]}],prohibited:["link"]}},{if:{properties:{type:{const:ee.Webpage}}},then:{required:["link"],prohibited:["name","author"]}}]}),function(e){e[e.Photo=10]="Photo",e[e.Illustration=20]="Illustration"}(ie||(ie={})),Object(R.b)("ImageType",{oneOf:Object(C.l)(ie)});Object(R.b)("Image",{properties:{name:{type:"string",pattern:"^[a-zA-Z0-9 ,'\"%\\-()\\/]+$"},type:{$ref:"ImageType"},url:{type:"string"},description:{type:"string"},previewWidth:{type:["number","null"]},sourceChains:{items:{$ref:"SourceChain"}},creator:{type:"string"},createdAt:{type:"number"}},required:["name","type","url","description","sourceChains","creator","createdAt"]});var oe=n(97),ce=n(24);Object(R.b)("MapNodeTag",{properties:{creator:{type:"string"},createdAt:{type:"number"},nodes:{items:{$ref:"UUID"}},mirrorChildrenFromXToY:{$ref:"TagComp_MirrorChildrenFromXToY"},xIsExtendedByY:{$ref:"TagComp_XIsExtendedByY"},mutuallyExclusiveGroup:{$ref:"TagComp_MutuallyExclusiveGroup"},restrictMirroringOfX:{$ref:"TagComp_RestrictMirroringOfX"}},required:["creator","createdAt","nodes"]});var le=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"GetFinalTagComps",value:function(){var e,t=(e=this._key,fe.find(function(t){return t.key==e}));return t?[Object(C.c)(this).As(t)]:[this]}}]),e}(),ue=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).mirrorSupporting=!0,n.mirrorOpposing=!0,n.reversePolarities=!1,n.disableDirectChildren=!1,Object(C.c)(Object(ce.a)(Object(ce.a)(n))).VSet(e),n}return Object(f.a)(t,e),t}(le);ue.displayName="mirror children from X to Y",ue.description="Makes-so any children of node-x (matching the parameters) are shown as children of node-y. (only usable for claims currently)",ue.nodeKeys=["nodeX","nodeY"],Object(R.b)("TagComp_MirrorChildrenFromXToY",{properties:{nodeX:{$ref:"UUID"},nodeY:{$ref:"UUID"},mirrorSupporting:{type:"boolean"},mirrorOpposing:{type:"boolean"},reversePolarities:{type:"boolean"},disableDirectChildren:{type:"boolean"}}});var se=function(e){function t(e){var n;return Object(u.a)(this,t),n=Object(d.a)(this,Object(p.a)(t).call(this)),Object(C.c)(Object(ce.a)(Object(ce.a)(n))).VSet(e),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"GetFinalTagComps",value:function(){var e=Object(oe.a)(Object(p.a)(t.prototype),"GetFinalTagComps",this).call(this),n=new ue({nodeX:this.nodeX,nodeY:this.nodeY,mirrorSupporting:!1,mirrorOpposing:!0});e.push(n);var r=new ue({nodeX:this.nodeY,nodeY:this.nodeX,mirrorSupporting:!0,mirrorOpposing:!1});return e.push(r),e}}]),t}(le);se.displayName="X is extended by Y (composite)",se.description=Object(C.c)("\n\t\tMeaning: claim Y is the same as claim X, except it is wider-scoped (and thus weaker) than X -- along some consistent axis/criteria of a series.\n\t\tExample: X (we should charge at least $50) is extended by Y (we should charge at least $100).\n\t\tEffect: Makes-so any con-args of X (base) are mirrored as con-args of Y (extension), and any pro-args of Y (extension) are mirrored as pro-args of X (base).\n\t").AsMultiline(0),se.nodeKeys=["nodeX","nodeY"],Object(R.b)("TagComp_XIsExtendedByY",{properties:{nodeX:{$ref:"UUID"},nodeY:{$ref:"UUID"}}});var de=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).nodes=[],n.mirrorXProsAsYCons=!0,Object(C.c)(Object(ce.a)(Object(ce.a)(n))).VSet(e),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"GetFinalTagComps",value:function(){var e=Object(oe.a)(Object(p.a)(t.prototype),"GetFinalTagComps",this).call(this);if(this.mirrorXProsAsYCons){var n=!0,r=!1,a=void 0;try{for(var i,o=this.nodes[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,l=!0,u=!1,s=void 0;try{for(var d,f=Object(C.c)(this.nodes).Except(c)[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var b=d.value,h=new ue({nodeX:c,nodeY:b,mirrorSupporting:!0,mirrorOpposing:!1,reversePolarities:!0});e.push(h)}}catch(y){u=!0,s=y}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}}}catch(y){r=!0,a=y}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}return e}}]),t}(le);de.displayName="mutually exclusive group (composite)",de.description=Object(C.c)("\n\t\tMarks a set of nodes as being mutually exclusive with each other.\n\t\t(common use: having each one's pro-args be mirrored as con-args of the others)\n\t").AsMultiline(0),de.nodeKeys=["nodes"],Object(R.b)("TagComp_MutuallyExclusiveGroup",{properties:{nodes:{items:{$ref:"UUID"}},mirrorXProsAsYCons:{type:"boolean"}}});var pe=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this))).blacklistAllMirrorParents=!0,n.blacklistedMirrorParents=[],Object(C.c)(Object(ce.a)(Object(ce.a)(n))).VSet(e),n}return Object(f.a)(t,e),t}(le);pe.displayName="restrict mirroring of X",pe.description="Restricts mirroring of node X, by blacklisting certain mirror-parents, or mirror-parents in general.",pe.nodeKeys=["nodeX","blacklistedMirrorParents"],Object(R.b)("TagComp_RestrictMirroringOfX",{properties:{nodeX:{$ref:"UUID"},blacklistAllMirrorParents:{type:"boolean"},blacklistedMirrorParents:{items:{$ref:"UUID"}}}});var fe=[ue,se,de,pe];!function(){for(var e,t,n=0,r=fe;n<r.length;n++){var a=r[n];a.key=null!==(e=a.key)&&void 0!==e?e:he(a.name),a.displayName=null!==(t=a.displayName)&&void 0!==t?t:ye(a.name)}}();var be=fe.map(function(e){return e.key});fe.map(function(e){return e.displayName});function he(e){var t=e.replace(/TagComp_/,"");return t=Object(C.v)(t,function(e){return[e.startUpper_to_lower]})}function ye(e){var t=e.replace(/TagComp_/,"");t=Object(C.v)(t,function(e){return[e.startUpper_to_lower,e.lowerUpper_to_lowerSpaceLower]});for(var n=0,r=["x","y","z"];n<r.length;n++){var a=r[n];t=t.replace(new RegExp("(^| )".concat(a,"( |$)")),a.toUpperCase())}return t}function ve(e){return fe.find(function(t){return t.key in e})}function me(e){return e[ve(e).key]}var Oe=Object(R.s)(function(e){return function(e){return Object(R.k)({queryOps:[new R.w("nodes","array-contains",e)]},function(e){return e.nodeTags})}}),je=Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.nodeTags.get(e)})}}),ge=Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=Oe(e);return r==C.G?C.G:Object(C.c)(r).SelectMany(function(e){var r;if(null===(r=n)||void 0===r?void 0:r.includes(e._key))return[];var a=me(e);return t?De(e):[a]})}}),De=Object(R.s)(function(e){return function(e){var t=ve(e),n=me(e);return t.prototype.GetFinalTagComps.call(n)}}),we={basic:!0,verified:!0,mod:!1,admin:!1},Ie=Object(R.s)(function(e){return function(e){var t,n;return null==e?null:null!==(n=null===(t=Z(e))||void 0===t?void 0:t.permissionGroups)&&void 0!==n?n:we}});var ke=Object(R.s)(function(e){return function(e){var t=Object(C.t)(e)?Ie(e):e;return null==t||t.basic}}),_e=Object(R.s)(function(e){return function(e){var t=Object(C.t)(e)?Ie(e):e;return!!t&&t.basic}}),Ne=Object(R.s)(function(e){return function(e){var t=Object(C.t)(e)?Ie(e):e;return!!t&&t.mod}}),Pe=Object(R.s)(function(e){return function(e){var t=Object(C.t)(e)?Ie(e):e;return!!t&&t.admin}}),Ae=Object(R.s)(function(e){return function(e,t){return t&&t.creator===e&&_e(e)||Ne(e)}}),Ee=(Object(R.s)(function(e){return function(e,t){var n,r,a,i;if(Ne(e)||Pe(e))return!0;var o=Ue(t);if(null==o)return!1;var c=o.current,l=null!==(n=c.permission_edit)&&void 0!==n?n:{type:q.Anyone};return l.type==q.Anyone?ke(e):l.type==q.Creator?c.creator==e:l.type==q.MapEditors?c.creator==e||null!==(i=null===(a=null===(r=z(o.ownerMapID))||void 0===r?void 0:r.editorIDs)||void 0===a?void 0:a.includes(e))&&void 0!==i&&i:void Object(C.b)(!1,"Invalid permission-info-type.")}}),Object(R.s)(function(e){return function(e,t){var n,r,a,i;if(Ne(e)||Pe(e))return!0;var o=Ue(t);if(null==o)return!1;var c=o.current,l=null!==(n=c.permission_contribute)&&void 0!==n?n:{type:q.Anyone};return l.type==q.Anyone?ke(e):l.type==q.Creator?c.creator==e:l.type==q.MapEditors?c.creator==e||null!==(i=null===(a=null===(r=z(o.ownerMapID))||void 0===r?void 0:r.editorIDs)||void 0===a?void 0:a.includes(e))&&void 0!==i&&i:void Object(C.b)(!1,"Invalid permission-info-type.")}}));function Re(e){return e.type==a.Category?e.current.votingDisabled?[]:[{type:"significance",main:!0}]:e.type==a.Package?[{type:"significance",main:!0}]:e.type==a.MultiChoiceQuestion?[{type:"significance",main:!0}]:e.type==a.Claim?[{type:"truth",main:!0}]:e.type==a.Argument?[{type:"relevance"},{type:"impact",main:!0}]:void Object(C.b)(!1)}var Ce=Object(R.s)(function(e){return function(e){return Object(C.c)(Re(e)).FirstOrX(function(e){return e.main},{}).type}});function Se(e){return e==V.Supporting?V.Opposing:V.Supporting}var Te=Object(R.s)(function(e){return function(e,t,n){Object(C.b)(e.type==a.Argument,"Only argument nodes have polarity.");var r=rt(t);if(!r)return V.Supporting;var i=Be(e._key,r,!0,n);if(null==i)return V.Supporting;Object(C.b)(null!=i.polarity,"The link for the argument #".concat(e._key," (from parent #").concat(r._key,") must specify the polarity."));var o=qe(r,Object(R.r)(t).slice(0,-1).join("/"));return xe(i.polarity,o)}});function xe(e,t){var n=e;return t==U.Negation&&(n=Se(n)),n}function Me(e){var t=Object(C.g)(e);return delete t.current,delete t.displayPolarity,delete t.link,t}var Ue=Object(R.s)(function(e){return function(e,t){if(Object(C.t)(e)&&(e=Je(e)),null==e)return null;var n=e,r=te(n.currentRevision);return void 0!==r?function(e,t){var n=Object(C.g)(e,{current:t});return delete n.displayPolarity,delete n.link,n}(n,r):void 0}});function Ve(e,t,n){return t=t||V.Supporting,n=n||{_:!0,form:U.Base,seriesAnchor:!1,polarity:V.Supporting},Object(C.g)(e,{displayPolarity:t,link:n})}var Ge=Object(R.s)(function(e){return function(e,t){if(null==e)return null;var n=it(e),r=Ue(n);if(null==r)return null;var i=null;if(r.type==a.Argument&&null==(i=Te(r,e,t)))return null;if(!et(r)){var o=nt(e);if(null==o&&e.includes("/"))return null;var c=Be(r._key,o,!0,t);if(null==c&&e.includes("/"))return null}return Ve(r,i,c)}}),qe=Object(R.s)(function(e){return function(e,t){if(function(e){return e.displayPolarity&&e.link}(e))return e.link.form;var n=Object(C.t)(t)?rt(t):t,r=Be(e._key,n);return null==r?U.Base:r.form}}),Be=Object(R.s)(function(e){return function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0;if(null==t)return null;var i=null===(n=t.children)||void 0===n?void 0:n[e];if(r&&null==i){var o=Oe(t._key).filter(function(e){var t;return e&&!(null===(t=a)||void 0===t?void 0:t.includes(e._key))}),c=!0,l=!1,u=void 0;try{for(var s,d=o[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value,f=De(p),b=!0,h=!1,y=void 0;try{for(var v,m=function(){var n=v.value;if(n instanceof ue&&n.nodeY==t._key){var r=dt(n.nodeX,void 0,void 0,(null!==a&&void 0!==a?a:[]).concat(p._key)),o=(r=r.filter(function(e){return e&&(e.link.polarity==V.Supporting&&n.mirrorSupporting||e.link.polarity==V.Opposing&&n.mirrorOpposing)})).find(function(t){return t._key==e});o&&(i=Object(C.d)(o.link),Object.defineProperty(i,"_mirrorLink",{value:!0}),n.reversePolarities&&(i.polarity=Se(i.polarity)))}},O=f[Symbol.iterator]();!(b=(v=O.next()).done);b=!0)m()}catch(j){h=!0,y=j}finally{try{b||null==O.return||O.return()}finally{if(h)throw y}}}}catch(j){l=!0,u=j}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}}return i}});var $e=function e(t){Object(u.a)(this,e),this.proArgs=new Fe(t),this.conArgs=new Fe(t)},Fe=function e(t){Object(u.a)(this,e),this.canAdd=!0,this.reversePolarities=!1,this.hostNodeID=t};Object(R.s)(function(e){return function(e,t){var n=new $e(e),r=Oe(e);Object(C.c)(r).Any(function(t){var n,r;return(null===(n=t.mirrorChildrenFromXToY)||void 0===n?void 0:n.nodeY)==e&&(null===(r=t.mirrorChildrenFromXToY)||void 0===r?void 0:r.disableDirectChildren)})&&(n.proArgs.canAdd=!1,n.conArgs.canAdd=!1);var a=!0,i=!1,o=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(u.mirrorChildrenFromXToY&&u.mirrorChildrenFromXToY.nodeY==e){var s=u.mirrorChildrenFromXToY,d=[];s.mirrorSupporting&&d.push(s.reversePolarities?"con":"pro"),s.mirrorOpposing&&d.push(s.reversePolarities?"pro":"con");for(var p=0,f=d;p<f.length;p++){var b=f[p];n["".concat(b,"Args")].canAdd=!0,n["".concat(b,"Args")].hostNodeID=s.nodeX,n["".concat(b,"Args")].reversePolarities=s.reversePolarities}}}}catch(h){i=!0,o=h}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return Ee(t,n.proArgs.hostNodeID)||(n.proArgs.canAdd=!1),Ee(t,n.conArgs.hostNodeID)||(n.conArgs.canAdd=!1),n}});var Le=Object(R.s)(function(e){return function(e,t,n){n=n||qe(e,t);var r,i=e.current.titles||{};if(e.type==a.Argument&&!e.multiPremiseArgument&&!i.base){var o=st(e._key).filter(function(e){return e&&e.type==a.Claim})[0];if(o)return Le(o)}if(e.type==a.Claim){if(e.current.equation){var c=e.current.equation.text;if(e.current.equation.latex&&"undefined"!=typeof window&&window.katex&&window.$){var l=c.replace(/\\term{(.+?)}/g,function(e,t,n){return"\\text{@term[".concat(t,"]}")}).replace(/\\term/g,function(){return"[syntax wrong]"});try{var u=window.katex.renderToString(l);c=window.$(u).children(".katex-html").text()}catch(f){if(f.message.startsWith("KaTeX parse error: "))return f.message.replace(/^KaTeX/,"LaTeX")}}return c}if(e.current.quote){var s=e.current.quote.sourceChains[0].sources[0];return"The statement below was made".concat(s.name?' in "'.concat(s.name,'"'):"").concat(s.author?" by ".concat(s.author):"").concat(s.link?' at "'.concat(C.D.Parse(s.link,!1).toString({domain_protocol:!1}),'"'):"",".")}if(e.current.image){var d=ae(e.current.image.id);if(null==d)return"...";var p=d.sourceChains[0].sources[0];return"The ".concat((r=d.type,ie[r].toLowerCase())," below was published").concat(p.name?' in "'.concat(p.name,'"'):"").concat(p.author?" by ".concat(p.author):"").concat(p.link?' at "'.concat(C.D.Parse(p.link,!1).toString({domain_protocol:!1}),'"'):"",".")}if(n){if(n==U.Negation)return i.negation||Xe[1];if(n==U.YesNoQuestion)return i.yesNoQuestion||Xe[2]}}return i.base||Xe[0]}}),Xe=["(base title not set)","(negation title not set)","(question title not set)"];var We,ze=Object(R.s)(function(e){return function(e){return e&&e.type==a.Argument&&!e.multiPremiseArgument}}),Ye=Object(R.s)(function(e){return function(e){return e&&e.type==a.Argument&&e.multiPremiseArgument}}),Ke=Object(R.s)(function(e){return function(e,t){return null==t?null:e.type==a.Claim&&ze(t)}});function Qe(e){return 22==e.length?e:23==e.length?e.slice(1):void Object(C.b)(!1,"Segment text is invalid.")}!function(e){e[e.Truth=10]="Truth",e[e.Relevance=20]="Relevance"}(We||(We={}));var Ze=Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.map(function(e){return Je(e)});return t&&Object(C.c)(n).Any(function(e){return null==e})?C.G:n}}),Je=(Object(R.s)(function(e){return function(e,t){return re(e,t).map(function(e){return Je(e.node)})}}),Object(R.s)(function(e){return function(e){return null==e||Object(C.o)(e)?null:Object(R.j)({},function(t){return t.nodes.get(e)})}}));function He(e){return!et(e)&&(e.type==a.Category&&0==function(e){return Object(C.c)(e.parents||{}).VKeys().length}(e))}function et(e){return null!=e.layerPlusAnchorParents}function tt(e){var t=Object(R.r)(e);if("*"==Object(C.c)(t).Last()[0])return null;var n=Object(C.c)(t).XFromLast(1);return n?Qe(n):null}var nt=Object(R.s)(function(e){return function(e){return Je(tt(e))}}),rt=Object(R.s)(function(e){return function(e){return Ue(tt(e))}}),at=Object(R.s)(function(e){return function(e){return Ge(function(e){var t=Object(R.r)(e);return 1==t.length?null:t.slice(0,-1).join("/")}(e))}}),it=Object(R.s)(function(e){return function(e){var t=Object(C.c)(Object(R.r)(e)).LastOrX();return t?Qe(t):null}});function ot(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&Object(C.c)(e).Any(function(e){return void 0===e})?C.G:e}var ct=Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Je(e);return ot(Object(C.c)(n.parents||{}).VKeys().map(function(e){return Je(e)}),t)}}),lt=(Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ot(ct(e).map(function(e){return e?Ue(e):void 0}),t)}}),Object(R.s)(function(e){return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return ot(ct(e).map(function(e){return e?Ge(Object(R.q)(t,1)):void 0}),n)}}),Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Je(e);if(null==a)return C.F;if(a.children&&a.children[0]instanceof G)return a.children;var i=Object(C.c)(a.children||{}).VKeys().map(function(e){return Je(e)});if(t){var o,c=ge(e,n);Object(C.c)(c).Any(function(t){return t instanceof ue&&t.nodeY==e&&t.disableDirectChildren})&&(i=[]);var l=ut(e,n);l=l.filter(function(e){return!Object(C.c)(i).Any(function(t){return t._key==e._key})}),(o=i).push.apply(o,Object(T.a)(l))}return ot(i,r)}})),ut=Object(R.s)(function(e){return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Oe(e).filter(function(e){var n;return e&&!(null===(n=t)||void 0===n?void 0:n.includes(e._key))}),a=[],i=!0,o=!1,c=void 0;try{for(var l,u=function(){var n=l.value,r=De(n),i=!0,o=!1,c=void 0;try{for(var u,s=function(){var r=u.value;if(r instanceof ue&&r.nodeY==e){var i,o=dt(r.nodeX,void 0,void 0,(null!==t&&void 0!==t?t:[]).concat(n._key)),c=(o=o.filter(function(a){if(null==a)return!1;var i=ge(a._key,!0,(null!==t&&void 0!==t?t:[]).concat(n._key));return i!=C.G&&(!Object(C.c)(i).Any(function(t){var n;return t instanceof pe&&(t.blacklistAllMirrorParents||(null===(n=t.blacklistedMirrorParents)||void 0===n?void 0:n.includes(e)))})&&(a.link.polarity==V.Supporting&&r.mirrorSupporting||a.link.polarity==V.Opposing&&r.mirrorOpposing))})).map(function(e){return Me(e)});(i=a).push.apply(i,Object(T.a)(c))}},d=r[Symbol.iterator]();!(i=(u=d.next()).done);i=!0)s()}catch(p){o=!0,c=p}finally{try{i||null==d.return||d.return()}finally{if(o)throw c}}},s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)u()}catch(d){o=!0,c=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}return ot(a=(a=a.filter(function(n){var r=ge(n._key,!0,t);if(Object(C.c)(r).Any(function(t){if(!(t instanceof se))return!1;if(!(t.nodeY==n._key))return!1;var r=lt(e,!1);return Object(C.c)(r.concat(a)).Any(function(e){return t.nodeX==e._key})}))return!1;if(ze(n)){var i=pt(n._key);if(i){var o=ge(i._key,!0,t);if(Object(C.c)(o).Any(function(t){if(!(t instanceof se))return!1;if(!(t.nodeY==i._key))return!1;var n=lt(e,!1);return Object(C.c)(n.concat(a)).Any(function(e){var n;return ze(e)&&t.nodeX==(null===(n=pt(e._key))||void 0===n?void 0:n._key)})}))return!1}}return!0})).filter(function(e,t){var n=a.slice(0,t);return!Object(C.c)(n).Any(function(t){return t._key==e._key})}),n)}}),st=Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return ot(lt(e,t,n).map(function(e){return e?Ue(e):void 0}),r)}}),dt=Object(R.s)(function(e){return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t=t||e,ot(st(e,n,r).map(function(e){return e?Ge("".concat(t,"/").concat(e._key),r):void 0}),a)}}),pt=Object(R.s)(function(e){return function(e){var t=Je(e);return lt(e,!1).find(function(e){return e&&Ke(e,t)})}});function ft(e,t){if(t==a.Argument){if(e==a.Argument)return We.Relevance}else if(t==a.Claim&&e==a.Argument)return We.Truth;return null}var bt=Object(R.s)(function(e){return function(e,t){var n;if(!(null===(n=x.for[e].childTypes)||void 0===n?void 0:n.includes(t)))return"The child's type (".concat(a[t],") is not valid for the parent's type (").concat(a[e],").")}}),ht=(Object(R.s)(function(e){return function(e,t,n,r){if(!ke(n))return"You're not signed in, or lack basic permissions.";var a=Je(e);if(null==a)return"Parent data not found.";if("GLOBAL_ROOT_0000000001"==a._key&&!Pe(n))return"Only admins can add children to the global-root.";if(a._key==t._key)return"Cannot link node as its own child.";var i=Object(C.c)(a.children||{}).VKeys().includes("".concat(t._key));if(void 0!==r){var o=ft(t.type,a.type);if(i&&o==r)return!1}return bt(a.type,t.type)}}),Object(R.s)(function(e){return function(e,t,n){var r,a,i,o,c,l,u,s="Cannot delete node #".concat(t._key,", since ");if(!Ae(e,t))return"".concat(s,"you are not the owner of this node. (or a mod)");if((r=Object(C.c)(Object(C.c)(t.parents||{}).VKeys())).Except.apply(r,Object(T.a)((o=null===(i=n)||void 0===i?void 0:i.parentsToIgnore,null!==o&&void 0!==o?o:[]))).length>1)return"".concat(s,"it has more than one parent. Try unlinking it instead.");if(He(t)&&!(null===(c=n)||void 0===c?void 0:c.asPartOfMapDelete))return"".concat(s,"it's the root-node of a map.");var d=st(t._key);return Object(C.c)(d).Any(function(e){return null==e})?"[still loading children...]":(a=Object(C.c)(d.map(function(e){return e._key}))).Except.apply(a,Object(T.a)((u=null===(l=n)||void 0===l?void 0:l.childrenToIgnore,null!==u&&void 0!==u?u:[]))).length?"Cannot delete this node (#".concat(t._key,") until all its children have been unlinked or deleted."):null}})),yt=(Object(R.s)(function(e){return function(e,t){var n="Cannot unlink node #".concat(t._key,", since ");return Ae(e,t)?He(t)?"".concat(n,"it's the root-node of a map."):et(t)?"".concat(n,"it's a subnode. Try deleting it instead."):null:"".concat(n,"you are not its owner. (or a mod)")}}),Object(R.s)(function(e){return function(e,t){return ke(e)?He(t)?"Cannot copy the root-node of a map.":et(t)?"Cannot copy a subnode.":null:"You're not signed in, or lack basic permissions."}}),function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o});function vt(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.toLowerCase().replace(/[^a-zA-Z0-9*]/g," ").replace(/ +/g," ").trim().split(" ").filter(function(e){return""!=e}),r=Object(C.c)(n.filter(function(e){return!t||!e.includes("*")}).map(function(e){return e.replace(/\*/g,"")})).Distinct().filter(function(e){return""!=e}),a=Object(C.c)(n.filter(function(e){return!!t&&e.includes("*")}).map(function(e){return e.replace(/\*/g,"")})).Distinct().filter(function(e){return""!=e});return{wholeTerms:r,partialTerms:a}}(e,!1).wholeTerms}var mt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload.revision;this.revisionID=null!==(e=this.revisionID)&&void 0!==e?e:Object(R.i)(),t.creator=this.userInfo.id,t.createdAt=Date.now();var n=Object(C.c)(t.titles||{}).VValues().join(" ");t.titles.allTerms=Object(C.c)(vt(n)).ToMap(function(e){return e},function(){return!0}),null==this.parentCommand&&(this.node_oldData=Je(t.node),Object(R.d)(this.node_oldData,"node_oldData is null.")),this.returnData=this.revisionID,Object(R.e)("MapNodeRevision",t,"Revision invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.mapID,n=e.revision,r={};return r["nodes/".concat(n.node,"/.currentRevision")]=this.revisionID,r["nodeRevisions/".concat(this.revisionID)]=n,r["mapNodeEditTimes/".concat(t,"/.").concat(n.node)]=n.createdAt,r}}]),t}(R.g);mt=yt([J,H],mt);var Ot=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t,n=this.payload,r=n.mapID,a=n.node,i=n.revision;if(Object(R.d)(null==a.currentRevision||a.currentRevision==this.sub_addRevision.revisionID,"Cannot specify node's revision-id. It will be generated automatically."),Object(R.d)(null==i.node||i.node==this.nodeID,"Cannot specify revision's node-id. It will be generated automatically."),this.nodeID=null!==(e=this.nodeID)&&void 0!==e?e:Object(R.i)(),a.creator=this.userInfo.id,a.createdAt=Date.now(),i.node=this.nodeID,this.sub_addRevision=null!==(t=this.sub_addRevision)&&void 0!==t?t:new mt({mapID:r,revision:i}).MarkAsSubcommand(this),this.sub_addRevision.Validate(),a.currentRevision=this.sub_addRevision.revisionID,this.parentCommand){var o=Object(R.l)("MapNode").Excluding("allOf");Object(R.f)(o,"MapNode",a,"Node invalid")}else Object(R.e)("MapNode",a,"Node invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.node,t={};t["nodes/".concat(this.nodeID)]=e;var n=!0,r=!1,a=void 0;try{for(var i,o=Object(C.c)(e.children||{}).VKeys()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;t["nodes/".concat(c,"/.parents/.").concat(this.nodeID)]={_:!0}}}catch(l){r=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t=Object(R.n)(t,this.sub_addRevision.GetDBUpdates())}}]),t}(R.g),jt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},gt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e;Object(R.e)({properties:{mapID:{type:"string"},parentID:{type:["null","string"]},node:{$ref:"MapNode_Partial"},revision:{$ref:"MapNodeRevision_Partial"},link:{$ref:"ChildEntry"},asMapRoot:{type:"boolean"}},required:["mapID","parentID","node","revision"]},this.payload,"Payload invalid");var t=this.payload,n=t.mapID,r=t.parentID,i=t.node,o=t.revision,c=t.link,l=t.asMapRoot;Object(R.d)(null==i.parents,"node.parents must be empty. Instead, supply a parentID property in the payload.");var u=Object(C.g)(i,r?{parents:Object(S.a)({},r,{_:!0})}:{});this.sub_addNode=null!==(e=this.sub_addNode)&&void 0!==e?e:new Ot({mapID:n,node:u,revision:o}).MarkAsSubcommand(this),this.sub_addNode.Validate(),this.payload.link=null!==c&&void 0!==c?c:Object(C.g)({_:!0},i.type==a.Argument&&{polarity:V.Supporting}),i.type==a.Argument&&Object(R.d)(null!=this.payload.link.polarity,"An argument node must have its polarity specified in its parent-link."),l||null!=this.parentCommand||(this.parent_oldData=Je(r)),this.returnData={nodeID:this.sub_addNode.nodeID,revisionID:this.sub_addNode.sub_addRevision.revisionID}}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.parentID,n=e.link,r=e.asMapRoot,i=this.sub_addNode.GetDBUpdates(),o={};return r||(o["nodes/".concat(t,"/.children/.").concat(this.sub_addNode.nodeID)]=n,this.parent_oldData&&this.parent_oldData.type==a.Argument&&(o["nodes/".concat(t,"/.childrenOrder")]=(this.parent_oldData.childrenOrder||[]).concat([this.sub_addNode.nodeID]))),Object(R.n)(i,o)}}]),t}(R.g);gt=jt([J,H],gt);R.g;var Dt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},wt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e;Object(R.d)(Ne(this.userInfo.id),"Only moderators can add images currently. (till review/approval system is implemented)");var t=this.payload.image;this.imageID=null!==(e=this.imageID)&&void 0!==e?e:Object(R.i)(),t.creator=this.userInfo.id,t.createdAt=Date.now(),this.returnData=this.imageID,Object(R.e)("Image",t,"Image invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.image;return Object(S.a)({},"images/".concat(this.imageID),e)}}]),t}(R.g);wt=Dt([H],wt);var It=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},kt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload.layer;this.layerID=null!==(e=this.layerID)&&void 0!==e?e:Object(R.i)(),t.createdAt=Date.now(),Object(R.e)("Layer",t,"Layer invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.layer;return Object(S.a)({},"layers/".concat(this.layerID),e)}}]),t}(R.g);kt=It([H],kt);var _t=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Nt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t,n=this.payload.map;Object(R.d)(void 0===n.featured,'Cannot set "featured" to true while first adding a map. (hmmm)'),this.mapID=null!==(e=this.mapID)&&void 0!==e?e:Object(R.i)(),n.createdAt=Date.now(),n.editedAt=n.createdAt;var r=new G({type:a.Category,creator:n.creator,rootNodeForMap:this.mapID,ownerMapID:Object(C.y)(n.type==L.Private&&this.mapID)}),i=new X({titles:{base:"Root"},votingDisabled:!0});this.sub_addNode=null!==(t=this.sub_addNode)&&void 0!==t?t:new gt({mapID:this.mapID,parentID:null,node:r,revision:i,asMapRoot:!0}).MarkAsSubcommand(this),this.sub_addNode.Validate(),n.rootNode=this.sub_addNode.sub_addNode.nodeID,Object(R.e)("Map",n,"Map invalid"),this.returnData=this.mapID}},{key:"GetDBUpdates",value:function(){var e=this.payload.map,t={};return t["maps/".concat(this.mapID)]=e,t=Object(R.n)(t,this.sub_addNode.GetDBUpdates())}}]),t}(R.g);Nt=_t([H],Nt);var Pt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},At=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e;Object(R.d)(Ne(this.userInfo.id),"Only moderators can add tags currently.");var t=this.payload.tag;this.id=null!==(e=this.id)&&void 0!==e?e:Object(R.i)(),t.creator=this.userInfo.id,t.createdAt=Date.now(),Object(R.e)("MapNodeTag",t,"MapNodeTag invalid");var n=!0,r=!1,a=void 0;try{for(var i,o=t.nodes[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,l=Je(c);Object(R.d)(l,"Node with id ".concat(c," does not exist."))}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}this.returnData=this.id}},{key:"GetDBUpdates",value:function(){var e=this.payload.tag;return Object(S.a)({},"nodeTags/".concat(this.id),e)}}]),t}(R.g);At=Pt([H],At);var Et=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Rt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload.phrasing;this.id=null!==(e=this.id)&&void 0!==e?e:Object(R.i)(),t.creator=this.userInfo.id,t.createdAt=Date.now(),Object(R.e)("MapNodePhrasing",t,"MapNodePhrasing invalid");var n=Je(t.node);Object(C.b)(n,"Node with id ".concat(t.node," does not exist.")),this.returnData=this.id}},{key:"GetDBUpdates",value:function(){var e=this.payload.phrasing;return Object(S.a)({},"nodePhrasings/".concat(this.id),e)}}]),t}(R.g);Rt=Et([H],Rt);Object(R.s)(function(e){return function(e,t){var n;return null==e?null:null===(n=Object(R.j)({},function(t){return t.userMapInfo.get(e)}))||void 0===n?void 0:n.maps.get(t)}});var Ct=Object(R.s)(function(e){return function(e,t){var n,r;return null==e?null:null===(r=null===(n=Object(R.j)({},function(t){return t.userMapInfo.get(e)}))||void 0===n?void 0:n.maps.get(t))||void 0===r?void 0:r.layerStates}}),St=(Object(R.s)(function(e){return function(e,t,n){var r=Ct(e,t);return null==r?null:r[n]}}),Object(R.s)(function(e){return function(){return Object(R.k)({},function(e){return e.layers})}}),Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.layers.get(e)})}}));var Tt=Object(R.s)(function(e){return function(e){return function(e){var t=z(e);return null==t?null:t.layers?Object(C.c)(t.layers).VKeys():C.F}(e).map(function(e){return St(e)})}}),xt=Object(R.s)(function(e){return function(e,t){return Object(C.c)(Object(R.j)({},function(n){return n.layers.get(t).nodeSubnodes.get(e)})||{}).VKeys()}}),Mt=(Object(R.s)(function(e){return function(e,t){return xt(e,t).map(function(e){return Je(e)})}}),Object(R.s)(function(e){return function(e,t,n){var r=Tt(t);if(Object(C.c)(r).Any(function(e){return null==e}))return C.G;var a=Ct(e,t);if(null!=a){var i=!0,o=!1,c=void 0;try{for(var l,u=function(){var e=l.value,t=e.key,n=e.value,a=r.find(function(e){return e._key==t});1==n?null==a&&r.push(St(t)):null!=a&&Object(C.c)(r).Remove(a)},s=Object(C.c)(a).Pairs()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)u()}catch(m){o=!0,c=m}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}}var d=[],p=!0,f=!1,b=void 0;try{for(var h,y=r[Symbol.iterator]();!(p=(h=y.next()).done);p=!0){var v=h.value;d.push.apply(d,Object(T.a)(xt(n,v._key)))}}catch(m){f=!0,b=m}finally{try{p||null==y.return||y.return()}finally{if(f)throw b}}return d.map(function(e){var t=Ue(e);return null==t?null:Ve(t)})}}),Object(R.s)(function(e){return function(e,t){if(Object(C.c)(t.nodeSubnodes||{}).VKeys().length)return"Cannot delete layer until all the subnodes within it are deleted."}})),Ut=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Vt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload,n=t.mapID,r=t.layerID,a=(t.anchorNodeID,t.subnode),i=t.subnodeRevision;this.sub_addNode=null!==(e=this.sub_addNode)&&void 0!==e?e:new Ot({mapID:n,node:a,revision:i}).MarkAsSubcommand(this),this.sub_addNode.Validate(),this.layer_oldData=St(r),Object(R.d)(this.layer_oldData,"layer_oldData is null."),this.returnData=this.sub_addNode.nodeID,this.sub_addNode.Validate()}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.layerID,n=e.anchorNodeID,r=(e.subnode,this.sub_addNode.GetDBUpdates()),a={};a["layers/".concat(t,"/.nodeSubnodes/.").concat(n,"/.").concat(this.sub_addNode.nodeID)]=!0;var i="".concat(t,"+").concat(n);return a["nodes/".concat(this.sub_addNode.nodeID,"/.layerPlusAnchorParents/.").concat(i)]=!0,Object(R.n)(r,a)}}]),t}(R.g);Vt=Ut([H],Vt);var Gt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},qt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload.term;this.termID=null!==(e=this.termID)&&void 0!==e?e:Object(R.i)(),t.creator=this.userInfo.id,t.createdAt=Date.now(),this.returnData=this.termID,Object(R.e)("Term",t,"Term invalid")}},{key:"GetDBUpdates",value:function(){var e,t=this.payload.term;return e={},Object(S.a)(e,"terms/".concat(this.termID),t),Object(S.a)(e,"termNames/".concat(t.name.toLowerCase(),"/.").concat(this.termID),!0),e}}]),t}(R.g);qt=Gt([H],qt);var Bt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},$t=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload,n=t.mapID,r=t.timeline;this.timelineID=null!==(e=this.timelineID)&&void 0!==e?e:Object(R.i)(),r.mapID=n,r.createdAt=Date.now(),this.returnData=this.timelineID,Object(R.e)("Timeline",r,"Timeline invalid")}},{key:"GetDBUpdates",value:function(){var e,t=this.payload,n=t.mapID,r=t.timeline;return e={},Object(S.a)(e,"timelines/".concat(this.timelineID),r),Object(S.a)(e,"maps/".concat(n,"/.timelines/.").concat(this.timelineID),!0),e}}]),t}(R.g);$t=Bt([H],$t);var Ft=Object(R.s)(function(e){return function(e){return null==e?null:Object(R.j)({},function(t){return t.timelines.get(e)})}});Object(R.s)(function(e){return function(e){var t=function(e){return Object(C.c)(e.timelines||{}).VKeys()}(e).map(function(e){return Ft(e)});return Object(C.c)(t).Any(function(e){return null==e})?C.G:t}});var Lt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Xt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t,n=this.payload,r=n.timelineID,a=n.step,i=n.stepIndex;this.stepID=null!==(e=this.stepID)&&void 0!==e?e:Object(R.i)(),a.timelineID=r;var o=Ft(r);Object(R.d)(o,"timeline not yet loaded."),this.timeline_oldSteps=(null===(t=o)||void 0===t?void 0:t.steps)||[],this.timeline_newSteps=this.timeline_oldSteps.slice(),i?Object(C.c)(this.timeline_newSteps).Insert(i,this.stepID):this.timeline_newSteps.push(this.stepID),Object(R.e)("TimelineStep",a,"TimelineStep invalid")}},{key:"GetDBUpdates",value:function(){var e,t=this.payload,n=t.timelineID,r=t.step;return e={},Object(S.a)(e,"timelineSteps/".concat(this.stepID),r),Object(S.a)(e,"timelines/".concat(n,"/.steps"),this.timeline_newSteps),e}}]),t}(R.g);Xt=Lt([H],Xt);Object(R.b)("QuoteAttachment",{properties:{content:{type:"string"},sourceChains:{items:{$ref:"SourceChain"}}},required:["content","sourceChains"]});Object(R.b)("ImageAttachment",{properties:{id:{type:"string"}},required:["id"]});var Wt=function e(){Object(u.a)(this,e),this.text="",this.isStep=!0,this.explanation=null};Object(R.b)("EquationAttachment",{properties:{latex:{type:"boolean"},text:{type:"string"},isStep:{type:["null","boolean"]},explanation:{type:["null","string"]}},required:["text"]});var zt;function Yt(e){return(t=e.current).equation?zt.Equation:t.references?zt.References:t.quote?zt.Quote:t.image?zt.Image:zt.None;var t}Object(R.b)("ReferencesAttachment",{properties:{sourceChains:{items:{$ref:"SourceChain"}}},required:["sourceChains"]}),function(e){e[e.None=10]="None",e[e.Equation=20]="Equation",e[e.References=30]="References",e[e.Quote=40]="Quote",e[e.Image=50]="Image"}(zt||(zt={}));var Kt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Qt=["Normal>Equation","Equation>Normal"];Object(R.b)("ChangeClaimType_payload",{properties:{mapID:{type:"string"},nodeID:{type:"string"},newType:{oneOf:Object(C.l)(zt)}},required:["nodeID","newType"]});var Zt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e;Object(R.e)("ChangeClaimType_payload",this.payload,"Payload invalid");var t,n,r=this.payload,a=r.nodeID,i=r.newType,o=R.a.NonNull=Ue(a);this.oldType=Yt(o),this.newData=Object.assign({},Me(o)),this.newRevisionID=null!==(e=this.newRevisionID)&&void 0!==e?e:Object(R.i)(),this.newRevision=Object.assign({},o.current),this.newData.currentRevision=this.newRevisionID,this.oldType==zt.None?i==zt.Equation&&(this.newRevision.equation=Object(C.c)(new Wt).VSet({text:this.newRevision.titles.base}),delete this.newRevision.titles):this.oldType==zt.Equation&&i==zt.None&&(this.newRevision.titles={base:this.newRevision.equation.text},delete this.newRevision.equation),Object(R.d)((t=this.oldType,n=i,Qt.includes("".concat(zt[t],">").concat(zt[n]))),"Cannot convert from claim-type ".concat(zt[this.oldType]," to ").concat(zt[i],".")),Object(R.e)("MapNode",this.newData,"New node-data invalid"),Object(R.e)("MapNodeRevision",this.newRevisionID,"New revision-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.nodeID,t={};return t["nodes/".concat(e)]=this.newData,t["nodeRevisions/".concat(this.newRevisionID)]=this.newRevision,t}}]),t}(R.g);Zt=Kt([J,H],Zt);var Jt,Ht=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("ChangeNodeOwnerMap_payload",{properties:{nodeID:{type:"string"},newOwnerMapID:{type:["null","string"]},argumentNodeID:{type:"string"}},required:["nodeID","newOwnerMapID"]});var en=Jt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t,n;Object(R.e)("ChangeNodeOwnerMap_payload",this.payload,"Payload invalid");var r=this.payload,a=r.nodeID,i=r.newOwnerMapID,o=r.argumentNodeID,c=R.a.NonNull=Je(a);if(Object(R.d)(Ae(this.userInfo.id,c),"User is not the node's creator, or a moderator."),null==c.ownerMapID){var l=z(i);Object(R.d)(i,"newOwnerMap still loading."),Object(R.d)(l.type==L.Private,"Node must be in private map to be made private.");var u=o?[o]:[],s=Ze(Object(C.c)((e=c.parents,null!==e&&void 0!==e?e:{})).VKeys()),d=!Object(C.s)(s)&&i&&s.every(function(e){return e.ownerMapID==i||u.includes(e._key)});Object(R.d)(d,"To make node private, all its parents must be private nodes within the same map. (to ensure we don't leave links in other maps, which would make the owner-map-id invalid)")}else{Object(R.d)(null==c.rootNodeForMap,"Cannot make a map's root-node public.");var p=te(c.currentRevision);Object(R.d)(p,"revision not yet loaded."),Object(R.d)((null===(t=p.permission_contribute)||void 0===t?void 0:t.type)==q.Anyone,'To make node public, the "Contribute" permission must be set to "Anyone".');var f=this.parentCommand instanceof Jt?[this.parentCommand.payload.nodeID]:[],b=lt(c._key);Object(R.d)(!Object(C.s)(b),"children still loading."),Object(R.d)(b.every(function(e){return null==e.ownerMapID||f.includes(e._key)}),"To make node public, it must not have any private children.")}this.newData=Object(C.g)(c,{ownerMapID:null!==i&&void 0!==i?i:C.e}),Object(R.e)("MapNode",this.newData,"New node-data invalid"),o&&(this.sub_changeOwnerMapForArgument=null!==(n=this.sub_changeOwnerMapForArgument)&&void 0!==n?n:new Jt({nodeID:o,newOwnerMapID:i}).MarkAsSubcommand(this),this.sub_changeOwnerMapForArgument.Validate())}},{key:"GetDBUpdates",value:function(){var e=this.payload.nodeID,t=Object(S.a)({},"nodes/".concat(e),this.newData);return this.sub_changeOwnerMapForArgument&&(t=Object(R.n)(t,this.sub_changeOwnerMapForArgument.GetDBUpdates())),t}}]),t}(R.g);en=Jt=Ht([H],en);var tn,nn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("DeleteNode_payload",{properties:{mapID:{type:"string"},nodeID:{type:"string"},withContainerArgument:{type:"string"}},required:["nodeID"]});var rn=tn=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).apply(this,arguments))).asPartOfMapDelete=!1,e.parentsToIgnore=[],e.childrenToIgnore=[],e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t;Object(R.e)("DeleteNode_payload",this.payload,"Payload invalid");var n=this.payload,r=n.mapID,a=n.nodeID,i=n.withContainerArgument,o=this.asPartOfMapDelete,c=this.parentsToIgnore,l=this.childrenToIgnore;this.oldData=Ue(a),Object(R.d)(this.oldData,"oldData is null."),this.oldRevisions=ne(a),Object(R.d)(this.oldRevisions.every(function(e){return null!=e})&&this.oldRevisions.length,"oldRevisions has null entries, or length of zero.");var u=Object(C.c)(this.oldData.parents||{}).VKeys();this.oldParentChildrenOrders=u.map(function(e){var t;return null===(t=Je(e))||void 0===t?void 0:t.childrenOrder});var s=W();this.mapIDs=null===(e=s)||void 0===e?void 0:e.map(function(e){var t;return null===(t=e)||void 0===t?void 0:t._key}),Object(R.d)(this.mapIDs&&this.mapIDs.every(function(e){return null!=e}),"mapIDs is null, or has null entries.");var d=ht(this.userInfo.id,this.oldData,this.parentCommand&&{asPartOfMapDelete:o,parentsToIgnore:c,childrenToIgnore:l});Object(R.d)(null==d,d),i&&(this.sub_deleteContainerArgument=null!==(t=this.sub_deleteContainerArgument)&&void 0!==t?t:new tn({mapID:r,nodeID:i}).MarkAsSubcommand(this),this.sub_deleteContainerArgument.childrenToIgnore=[a],this.sub_deleteContainerArgument.Validate())}},{key:"GetDBUpdates",value:function(){var e=this.payload.nodeID,t={};t["nodes/".concat(e)]=null,t["nodeRatings/".concat(e)]=null,t["nodeViewers/".concat(e)]=null;var n=!0,r=!1,a=void 0;try{for(var i,o=Object(C.c)(this.oldData.parents||{}).Pairs()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,l=c.index,u=c.key;t["nodes/".concat(u,"/.children/.").concat(e)]=null;var s=this.oldParentChildrenOrders[l];s&&(t["nodes/".concat(u,"/.childrenOrder")]=Object(C.c)(Object(C.c)(s).Except(e)).IfEmptyThen(null))}}catch(x){r=!0,a=x}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}if(this.oldData.layerPlusAnchorParents){var d=!0,p=!1,f=void 0;try{for(var b,h=Object(C.c)(this.oldData.layerPlusAnchorParents).VKeys()[Symbol.iterator]();!(d=(b=h.next()).done);d=!0){var v=b.value.split("+"),m=Object(y.a)(v,2),O=m[0],j=m[1];t["layers/".concat(O,"/.nodeSubnodes/.").concat(j,"/.").concat(e)]=null}}catch(x){p=!0,f=x}finally{try{d||null==h.return||h.return()}finally{if(p)throw f}}}var g=!0,D=!1,w=void 0;try{for(var I,k=this.oldRevisions[Symbol.iterator]();!(g=(I=k.next()).done);g=!0){var _=I.value;t["nodeRevisions/".concat(_._key)]=null}}catch(x){D=!0,w=x}finally{try{g||null==k.return||k.return()}finally{if(D)throw w}}var N=!0,P=!1,A=void 0;try{for(var E,S=this.mapIDs[Symbol.iterator]();!(N=(E=S.next()).done);N=!0){var T=E.value;t["mapNodeEditTimes/".concat(T,"/.").concat(e)]=null}}catch(x){P=!0,A=x}finally{try{N||null==S.return||S.return()}finally{if(P)throw A}}return this.sub_deleteContainerArgument&&(t=Object(R.n)(t,this.sub_deleteContainerArgument.GetDBUpdates())),t}}]),t}(R.g);rn=tn=nn([J,H],rn);var an=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},on=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).apply(this,arguments))).allowOrphaning=!1,e}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload,n=t.parentID,r=t.childID;this.parent_oldChildrenOrder=null===(e=Je(n))||void 0===e?void 0:e.childrenOrder;var a=Ue(r);Object(R.d)(a,"oldData was null.");var i="Cannot unlink node #".concat(a._key,", since ");Object(R.d)(Ae(this.userInfo.id,a),"".concat(i,"you are not its owner. (or a mod)")),Object(R.d)(this.allowOrphaning||Object(C.c)(a.parents||{}).VKeys().length>1,"".concat(i,"doing so would orphan it. Try deleting it instead.")),Object(R.d)(!He(a),"".concat(i,"it's the root-node of a map.")),Object(R.d)(!et(a),"".concat(i,"it's a subnode. Try deleting it instead."))}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.parentID,n=e.childID,r={};return r["nodes/".concat(n,"/.parents/.").concat(t)]=null,r["nodes/".concat(t,"/.children/.").concat(n)]=null,this.parent_oldChildrenOrder&&(r["nodes/".concat(t,"/.childrenOrder")]=Object(C.c)(Object(C.c)(this.parent_oldChildrenOrder).Except(n)).IfEmptyThen(null)),r}}]),t}(R.g);on=an([J,H],on);var cn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t,n,r,i=this.payload,o=i.mapID,c=i.oldParentID,l=i.newParentID,u=i.nodeID,s=i.newForm,d=i.allowCreateWrapperArg,p=i.unlinkFromOldParent,f=i.deleteEmptyArgumentWrapper,b=i.newPolarity;Object(R.d)(c!==u,"Old parent-id and child-id cannot be the same!"),Object(R.d)(l!==u,"New parent-id and child-id cannot be the same!"),this.returnData={},this.map_data=R.a.NonNull=z(o),this.node_data=R.a.NonNull=Ue(u);var h=Ue(c);this.newParent_data=R.a.NonNull=Ue(l);var y,v,m=(y=this.node_data,(null==(v=h)?null:y.type==a.Claim&&Ye(v))&&d);if(Object(R.d)(c!==l||m,"Old-parent-id and new-parent-id cannot be the same! (unless changing between truth-arg and relevance-arg)"),Object(R.d)(Ee(Q(),l),"Cannot paste under a node with contributions disabled."),p){var O=this.newParent_data.rootNodeForMap?l:function(e,t,n){var r,a=Je(e);if(null==a)return null;for(var i=[{id:a._key,path:[a._key]}];i.length;){var o=!0,c=!1,l=void 0;try{for(var u,s=i[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var d=u.value;if(t(d.id))return d.path.join("/")}}catch(_){c=!0,l=_}finally{try{o||null==s.return||s.return()}finally{if(c)throw l}}var p=[],f=!0,b=!1,h=void 0;try{for(var y,v=i[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var m=y.value,O=Je(m.id);if(null==O)return null;var j=!0,g=!1,D=void 0;try{for(var w,I=Object(C.c)(O.parents||{}).VKeys()[Symbol.iterator]();!(j=(w=I.next()).done);j=!0){var k=w.value;m.path.includes(k)||null!==(r=n)&&void 0!==r&&r.includes(k)||p.push({id:k,path:[k].concat(m.path)})}}catch(_){g=!0,D=_}finally{try{j||null==I.return||I.return()}finally{if(g)throw D}}}}catch(_){b=!0,h=_}finally{try{f||null==v.return||v.return()}finally{if(b)throw h}}i=p}return null}(l,function(e){var t;return null!=(null===(t=Je(e))||void 0===t?void 0:t.rootNodeForMap)},[u]);Object(R.d)(null!=O,"Cannot move a node to a path that would orphan it.")}var j=l,g=this.node_data.type===a.Claim&&Object(C.x)(this.newParent_data.type).IsOneOf(a.Claim,a.Argument);if(g)if(g&&d){b=b||V.Supporting;var D=new G({type:a.Argument,ownerMapID:Object(C.y)(this.newParent_data.ownerMapID)}),w=new X(this.map_data.nodeDefaults);this.sub_addArgumentWrapper=null!==(e=this.sub_addArgumentWrapper)&&void 0!==e?e:new gt({mapID:o,parentID:l,node:D,revision:w,link:Object(C.g)({_:!0,polarity:b})}).MarkAsSubcommand(this),this.sub_addArgumentWrapper.Validate(),this.returnData.argumentWrapperID=this.sub_addArgumentWrapper.sub_addNode.nodeID,j=this.sub_addArgumentWrapper.sub_addNode.nodeID}else{var I=g&&!this.newParent_data.multiPremiseArgument;Object(R.d)(!1===I,"Linking node #".concat(u," under #").concat(l," requires creating a wrapper-arg, but this was disallowed by passed prop."))}this.sub_linkToNewParent=null!==(t=this.sub_linkToNewParent)&&void 0!==t?t:new un({mapID:o,parentID:j,childID:u,childForm:s,childPolarity:b}).MarkAsSubcommand(this),this.sub_linkToNewParent.Validate(),p&&(this.sub_unlinkFromOldParent=null!==(n=this.sub_unlinkFromOldParent)&&void 0!==n?n:new on({mapID:o,parentID:c,childID:u}).MarkAsSubcommand(this),this.sub_unlinkFromOldParent.allowOrphaning=!0,this.sub_unlinkFromOldParent.Validate(),f&&ze(h)&&1===Object(C.c)(h.children).VKeys().length&&(this.sub_deleteOldParent=null!==(r=this.sub_deleteOldParent)&&void 0!==r?r:new rn({mapID:o,nodeID:c}).MarkAsSubcommand(this),this.sub_deleteOldParent.childrenToIgnore=[u],this.sub_deleteOldParent.Validate()))}},{key:"GetDBUpdates",value:function(){var e={};return this.sub_unlinkFromOldParent&&(e=Object(R.n)(e,this.sub_unlinkFromOldParent.GetDBUpdates())),this.sub_deleteOldParent&&(e=Object(R.n)(e,this.sub_deleteOldParent.GetDBUpdates())),this.sub_addArgumentWrapper&&(e=Object(R.n)(e,this.sub_addArgumentWrapper.GetDBUpdates())),e=Object(R.n)(e,this.sub_linkToNewParent.GetDBUpdates())}}]),t}(R.g);cn.defaultPayload={allowCreateWrapperArg:!0};var ln=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},un=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t,n,r,a,i=this.payload,o=i.parentID,c=i.childID;Object(R.d)(o!=c,"Parent-id and child-id cannot be the same!"),this.child_oldData=Je(c),Object(R.d)(this.child_oldData||null!=this.parentCommand,"Child does not exist!"),this.parent_oldData=null!==(t=this.parentCommand instanceof cn&&this==this.parentCommand.sub_linkToNewParent?null===(e=this.parentCommand.sub_addArgumentWrapper)||void 0===e?void 0:e.payload.node:null)&&void 0!==t?t:Je(o),Object(R.d)(this.parent_oldData||null!=this.parentCommand,"Parent does not exist!"),this.parent_oldData&&Object(R.d)(!(null===(n=this.parent_oldData.childrenOrder)||void 0===n?void 0:n.includes(c)),"Node #".concat(c," is already a child of node #").concat(o,".")),null!=(null===(r=this.child_oldData)||void 0===r?void 0:r.ownerMapID)&&Object(R.d)((null===(a=this.parent_oldData)||void 0===a?void 0:a.ownerMapID)==this.child_oldData.ownerMapID,"Cannot paste private node #".concat(c," into a map not matching its owner map (").concat(this.child_oldData.ownerMapID,")."))}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.parentID,n=e.childID,r=e.childForm,i=e.childPolarity,o={};return o["nodes/".concat(n,"/.parents/.").concat(t)]={_:!0},o["nodes/".concat(t,"/.children/.").concat(n)]=Object(C.g)({_:!0},r&&{form:r},i&&{polarity:i}),this.parent_oldData&&this.parent_oldData.type==a.Argument&&(o["nodes/".concat(t,"/.childrenOrder")]=(this.parent_oldData.childrenOrder||[]).concat([n])),o}}]),t}(R.g);un=ln([J,H],un);R.g;var sn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},dn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.id;this.oldData=ae(e)}},{key:"GetDBUpdates",value:function(){var e=this.payload.id;return Object(S.a)({},"images/".concat(e),null)}}]),t}(R.g);dn=sn([H],dn);var pn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},fn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.layerID;this.oldData=R.a.NonNull=St(e),this.userMapInfoSets=R.a.NonNull=Object(R.k)({resultForLoading:void 0},function(e){return e.userMapInfo});var t=Mt(this.userInfo.id,this.oldData);Object(R.d)(null==t,t)}},{key:"GetDBUpdates",value:function(){var e=this.payload.layerID,t={};t["layers/".concat(e)]=null;var n=!0,r=!1,a=void 0;try{for(var i,o=this.oldData.mapsWhereEnabled.keys()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;t["maps/".concat(c,"/.layers/.").concat(e)]=null}}catch(w){r=!0,a=w}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}var l=!0,u=!1,s=void 0;try{for(var d,p=this.userMapInfoSets[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value,b=f._key,h=!0,v=!1,m=void 0;try{for(var O,j=f.maps.entries()[Symbol.iterator]();!(h=(O=j.next()).done);h=!0){var g=Object(y.a)(O.value,2),D=g[0];null!=g[1].layerStates[e]&&(t["userMapInfo/".concat(b,"/.").concat(D,"/.layerStates/.").concat(e)]=null)}}catch(w){v=!0,m=w}finally{try{h||null==j.return||j.return()}finally{if(v)throw m}}}}catch(w){u=!0,s=w}finally{try{l||null==p.return||p.return()}finally{if(u)throw s}}return t}}]),t}(R.g);fn=pn([H],fn);var bn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},hn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload.mapID;this.oldData=z(t),Object(R.d)(this.oldData,"oldData is null."),this.userMapInfoSets=Object(R.k)({},function(e){return e.userMapInfo})||[],this.sub_deleteNode=null!==(e=this.sub_deleteNode)&&void 0!==e?e:new rn({mapID:t,nodeID:this.oldData.rootNode}).MarkAsSubcommand(this),this.sub_deleteNode.asPartOfMapDelete=!0,this.sub_deleteNode.Validate()}},{key:"GetDBUpdates",value:function(){var e=this.payload.mapID,t=this.sub_deleteNode.GetDBUpdates(),n={};n["maps/".concat(e)]=null;var r=!0,a=!1,i=void 0;try{for(var o,c=this.userMapInfoSets[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value,u=l._key,s=!0,d=!1,p=void 0;try{for(var f,b=Object(C.c)(l.maps).Pairs()[Symbol.iterator]();!(s=(f=b.next()).done);s=!0){var h=f.value,y=h.key;h.value;y==e&&(n["userMapInfo/".concat(u,"/.").concat(e)]=null)}}catch(v){d=!0,p=v}finally{try{s||null==b.return||b.return()}finally{if(d)throw p}}}}catch(v){a=!0,i=v}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n["mapNodeEditTimes/".concat(e)]=null,t=Object(R.n)(t,n)}}]),t}(R.g);hn=bn([H],hn);var yn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},vn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.id;this.oldData=R.a.NonNull=je(e)}},{key:"GetDBUpdates",value:function(){var e=this.payload.id;return Object(S.a)({},"nodeTags/".concat(e),null)}}]),t}(R.g);vn=yn([H],vn);Object(R.s)(function(e){return function(e){return Object(R.k)({queryOps:[new R.w("node","==",e)]},function(e){return e.nodePhrasings})}});var mn=Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.nodePhrasings.get(e)})}}),On=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},jn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.id;this.oldData=mn(e),Object(R.d)(this.oldData,"oldData is null")}},{key:"GetDBUpdates",value:function(){var e=this.payload.id;return Object(S.a)({},"nodePhrasings/".concat(e),null)}}]),t}(R.g);jn=On([H],jn);var gn=Object(R.s)(function(e){return function(e){return null==e||Object(C.o)(e)?null:Object(R.j)({},function(t){return t.terms.get(e)})}});Object(R.s)(function(e){return function(){return Object(R.k)({},function(e){return e.terms})}}),Object(R.s)(function(e){return function(e){return Object(R.k)({queryOps:[new R.w("name","==",e)]},function(e){return e.terms})}}),Object(R.s)(function(e){return function(e){return Object(C.b)(e.toLowerCase()==e,"Form cannot have uppercase characters."),Object(R.k)({queryOps:[new R.w("forms","array-contains",e)]},function(e){return e.terms})}}),Object(R.s)(function(e){return function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=te(e);if(null==a)return C.F;var i=null!==(n=null===(t=a.termAttachments)||void 0===t?void 0:t.map(function(e){return Object(R.j)({},function(t){return t.terms.get(e.id)})}))&&void 0!==n?n:C.F;return r&&Object(C.c)(i).Any(function(e){return void 0===e})?C.G:i}});var Dn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},wn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.termID;this.oldData=gn(e),Object(R.d)(this.oldData,"oldData is null.")}},{key:"GetDBUpdates",value:function(){var e,t=this.payload.termID;return e={},Object(S.a)(e,"terms/".concat(t),null),Object(S.a)(e,"termNames/".concat(this.oldData.name.toLowerCase(),"/.").concat(t),null),e}}]),t}(R.g);wn=Dn([H],wn);var In=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},kn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.timelineID;if(this.oldData=R.a.NonNull=Ft(e),this.oldData.steps)throw new Error("Cannot delete a timeline until all its steps have been deleted.")}},{key:"GetDBUpdates",value:function(){var e=this.payload.timelineID,t={};return t["timelines/".concat(e)]=null,t["maps/".concat(this.oldData.mapID,"/.timelines/.").concat(e)]=null,t}}]),t}(R.g);kn=In([H],kn);var _n=Object(R.s)(function(e){return function(e){return null==e?null:Object(R.j)({},function(t){return t.timelineSteps.get(e)})}}),Nn=(Object(R.s)(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(e.steps||[]).map(function(e){return _n(e)});return!t&&Object(C.c)(n).Any(function(e){return null==e})?C.G:n}}),Object(R.s)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=!0,a=!1,i=void 0;try{for(var o,c=e.entries()[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=Object(y.a)(o.value,2),u=l[0],s=l[1],d=!0,p=!1,f=void 0;try{for(var b,h=function(){var r=b.value;if(r.show){var a=null!=s.videoTime?s.videoTime:Object(C.c)(e.slice(0,u).map(function(e){return e.videoTime})).LastOrX(function(e){return null!=e});n[r.path]=t?Math.max(a,Object(C.C)(n[r.path],0)):Math.min(a,Object(C.C)(n[r.path],Number.MAX_SAFE_INTEGER));var i=Object(C.C)(r.show_revealDepth,0);if(i>=1){var o=Je(Object(C.c)(r.path.split("/")).Last());if(null==o)return"continue";var c=lt(o._key).map(function(e){return{node:e,path:e&&"".concat(r.path,"/").concat(e._key)}});if(Object(C.c)(c).Any(function(e){return null==e.node}))return{v:C.G};for(var l=1;l<=i;l++){var d=[],p=!0,f=!1,h=void 0;try{for(var y,v=function(){var e=y.value;if(n[e.path]=t?Math.max(a,Object(C.C)(n[e.path],0)):Math.min(a,Object(C.C)(n[e.path],Number.MAX_SAFE_INTEGER)),l<i){var r=lt(e.node._key).map(function(t){return{node:t,path:t&&"".concat(e.path,"/").concat(t._key)}});if(Object(C.c)(r).Any(function(e){return null==e}))return{v:{v:C.G}};Object(C.c)(d).AddRange(r)}},m=c[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var O=v();if("object"===typeof O)return O.v}}catch(_){f=!0,h=_}finally{try{p||null==m.return||m.return()}finally{if(f)throw h}}c=d}}}else if(r.hide){var j=!0,g=!1,D=void 0;try{for(var w,I=Object(C.c)(n).VKeys()[Symbol.iterator]();!(j=(w=I.next()).done);j=!0){var k=w.value;k.startsWith(r.path)&&delete n[k]}}catch(_){g=!0,D=_}finally{try{j||null==I.return||I.return()}finally{if(g)throw D}}}},v=(s.nodeReveals||[])[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){var m=h();switch(m){case"continue":continue;default:if("object"===typeof m)return m.v}}}catch(O){p=!0,f=O}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}}}catch(O){a=!0,i=O}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}})),Pn=(Object(R.s)(function(e){return function(e){return Object(C.c)(Nn(e)).VKeys()}}),function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}),An=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload.stepID;this.oldData=R.a.NonNull=_n(e);var t=R.a.NonNull=Ft(this.oldData.timelineID);this.timeline_oldSteps=t.steps}},{key:"GetDBUpdates",value:function(){var e=this.payload.stepID,t={};return t["timelines/".concat(this.oldData.timelineID,"/.steps")]=Object(C.c)(this.timeline_oldSteps).Except(e),t["timelineSteps/".concat(e)]=null,t}}]),t}(R.g);An=Pn([H],An);var En=["_key","_id"];function Rn(e){return function(e){var t=Object(C.j)(e,!0),n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;En.includes(c.prop)&&delete c.obj[c.prop]}}catch(l){r=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return e}(Object(C.d)(e))}R.g;var Cn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("ReverseArgumentPolarity_payload",{properties:{mapID:{type:"string"},nodeID:{type:"string"},path:{type:"string"}},required:["nodeID"]});var Sn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("ReverseArgumentPolarity_payload",this.payload,"Payload invalid");var e=this.payload,t=(e.nodeID,e.path);this.oldNodeData=Ge(t),this.parentID=tt(t),this.newLinkData=Object.assign({},this.oldNodeData.link),this.newLinkData.polarity=Se(this.newLinkData.polarity),Object(R.d)(this.oldNodeData.type==a.Argument,"Can only reverse polarity of an argument node."),Object(R.e)("ChildEntry",this.newLinkData,"New link-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.nodeID,t={};return t["nodes/".concat(this.parentID,"/.children/.").concat(e)]=this.newLinkData,t}}]),t}(R.g);Sn=Cn([J,H],Sn);var Tn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("SetLayerAttachedToMap_payload",{properties:{mapID:{type:"string"},layerID:{type:"string"},attached:{type:"boolean"}},required:["mapID","layerID","attached"]});var xn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate_Early",value:function(){Object(R.e)("SetLayerAttachedToMap_payload",this.payload,"Payload invalid")}},{key:"Validate",value:function(){var e=this.payload.mapID;this.oldData=z(e),Object(R.d)(this.oldData,"Map does not exist!")}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.mapID,n=e.layerID,r=e.attached,a={};return a["maps/".concat(t,"/.layers/.").concat(n)]=r||null,a["layers/".concat(n,"/.mapsWhereEnabled/.").concat(t)]=r||null,a}}]),t}(R.g);xn=Tn([J,H],xn);R.g;var Mn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("SetMapLayerStateForUser_payload",{properties:{userID:{type:"string"},mapID:{type:"string"},layerID:{type:"string"},state:{type:["null","boolean"]}},required:["userID","mapID","layerID","state"]});var Un=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("SetMapLayerStateForUser_payload",this.payload,"Payload invalid");var e=this.payload.userID;Object(R.d)(e==this.userInfo.id,"Cannot change this setting for another user!")}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.userID,n=e.mapID,r=e.layerID,a=e.state,i={};return i["userMapInfo/".concat(t,"/.").concat(n,"/.layerStates/.").concat(r)]=a,i}}]),t}(R.g);Un=Mn([J,H],Un);var Vn=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Gn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)({properties:{mapID:{type:"string"},nodeID:{type:"string"},multiPremiseArgument:{type:"boolean"}},required:["nodeID","multiPremiseArgument"]},this.payload,"Payload invalid");var e=this.payload,t=e.mapID,n=e.nodeID,r=e.multiPremiseArgument;if(this.oldNodeData=Ue(n),Object(R.d)(this.oldNodeData,"oldNodeData is null."),this.newNodeData=Object.assign(Object.assign({},Me(this.oldNodeData)),{multiPremiseArgument:r}),r){if(this.newNodeData.childrenOrder=Object(C.c)(this.oldNodeData.children).VKeys(),0==this.oldNodeData.current.titles.base.length){var a=Object(C.d)(this.oldNodeData.current),i="".concat(n,"/").concat(Object(C.c)(this.oldNodeData.children).VKeys()[0]),o=Ge(i);Object(R.d)(o,"oldChildNode is null."),a.titles.base=Le(o,i,qe(o)),this.sub_addRevision=new mt({mapID:t,revision:a}),this.sub_addRevision.Validate()}}else this.newNodeData.childrenOrder=null;Object(R.e)("MapNode",this.newNodeData,"New node-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.nodeID,t={};return t["nodes/".concat(e)]=this.newNodeData,this.sub_addRevision&&(t=Object(R.n)(t,this.sub_addRevision.GetDBUpdates())),t}}]),t}(R.g);Gn=Vn([J,H],Gn);var qn=function e(t){Object(u.a)(this,e),Object(C.c)(this).VSet(t)};Object(R.b)("Rating",{properties:{node:{type:"string"},type:{$ref:"RatingType"},user:{type:"string"},updated:{type:"number"},value:{type:"number"}},required:["node","type","user","value"]});var Bn=Object(R.s)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ue(e);if(Object(C.b)(n&&n.type==a.Claim,"RS truth-score can only be calculated for a claim."),t.length&&t.indexOf(t.Last())<t.length-1)return 1;var r,i=Kn(n._key);if(null==i||0==i.length)return 1;var o=0,c=!0,l=!1,u=void 0;try{for(var s,d=i[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value,f=dt(p._key).filter(function(e){return e&&e.type==a.Claim});if(0!=f.length){var b=$n(p._key,t.concat(p._key)),h=Xn(p._key,f.map(function(e){return e._key}),t.concat(p._key));if(0!=h){if(p.displayPolarity==V.Opposing&&(b=1-b),null==r)o=h,r=b;else r+=(b-r)*(h/(o+=h));Object(C.b)(!Object(C.o)(r),"Got an NaN in truth-score calculation function.")}}}}catch(y){l=!0,u=y}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}return r||0}}),$n=Object(R.s)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ue(e);Object(C.b)(n&&n.type==a.Argument,"RS truth-score-composite can only be calculated for an argument.");var r=dt(n._key).filter(function(e){return e&&e.type==a.Claim});return 0==r.length?0:zn(r.map(function(e){return Bn(e._key,t.concat(e._key))}),n.current.argumentType)}}),Fn=Object(R.s)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Bn(e,t);return n<=.5?0:(n-.5)/.5}}),Ln=Object(R.s)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ue(e);Object(C.b)(n&&n.type==a.Argument,"RS weight-multiplier can only be calculated for an argument<>claim combo -- which is specified by providing its argument node.");var r=Kn(n._key);if(null==r||0==r.length)return 1;var i=1,o=1,c=!0,l=!1,u=void 0;try{for(var s,d=r[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value,f=dt(p._key).filter(function(e){return e&&e.type==a.Claim});if(0!=f.length){var b=zn(f.map(function(e){return Bn(e._key,t.concat(e._key))}),p.current.argumentType),h=Xn(p._key,f.map(function(e){return e._key}),t.concat(p._key));p.displayPolarity==V.Supporting?i+=b*h:o+=b*h}}}catch(y){l=!0,u=y}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}return i/o}}),Xn=Object(R.s)(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Ue(e),a=t.map(function(e){return Ue(e)});return 0==a.length?0:a.map(function(e){return Fn(e._key,n.concat(e._key))}).reduce(function(e,t){return e*t})*Ln(r._key,n)}}),Wn=Object(R.s)(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Ue(e),o=at(t),c=i.type==a.Argument?i:o&&o.type==a.Argument?o:null,l=i.type==a.Argument?dt(c._key,t).filter(function(e){return e&&e.type==a.Claim}):[i];if(i.type==a.Claim)var u=Bn(i._key,r),s=Fn(i._key,r);if(c)var d=$n(c._key,r),p=Ln(c._key,r),f=Xn(c._key,l.map(function(e){return e._key}),r);return n?{argument:c,premises:l,rs_argTruthScoreComposite:d,rs_argWeightMultiplier:p,rs_argWeight:f,rs_claimTruthScore:u,rs_claimBaseWeight:s}:{argument:c,premises:l,argTruthScoreComposite:d,argWeightMultiplier:p,argWeight:f,claimTruthScore:u,claimBaseWeight:s}}});function zn(e,t){if(t==F.All)return e.reduce(function(e,t){return e*t});if(t==F.AnyTwo){if(e.length<2)return 0;var n=Object(C.c)(e).Max(),r=Object(C.c)(e).Except({excludeEachOnlyOnce:!0},n);return n*Object(C.c)(r).Max()}return Object(C.c)(e).Max()}var Yn,Kn=Object(R.s)(function(e){return function(e){var t=dt(e);if(t==C.G||Object(C.c)(t).Any(function(e){return null==e}))return null;var n=t.filter(function(e){return e.type==a.Argument}),r=!0,i=!1,o=void 0;try{for(var c,l=n[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){c.value;var u=dt(e);if(u==C.G||Object(C.c)(u).Any(function(e){return null==e}))return null}}catch(s){i=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}),Qn=Object(R.s)(function(e){return function(e,t,n){if(Object(C.c)(t).Any(function(e){return null==e}))return null;if(0==t.length)return null;var r,a=t.map(function(t){var r=Re(t)[0].type,a=er(t._key,r,n,null);return null==a&&(a=tr(t._key,r,null)||0),qe(t,e)==U.Negation?1-a/100:a/100});if(e.current.argumentType==F.All)r=a.reduce(function(e,t){return e*t},1);else if(e.current.argumentType==F.AnyTwo){var i=Object(C.c)(a).Max(null,!0);r=i*(a.length>1?Object(C.c)(Object(C.c)(a).Except({excludeEachOnlyOnce:!0},i)).Max(null,!0):0)}else r=Object(C.c)(a).Max(null,!0);var o=er(e._key,"relevance",n,null);null==o&&(o=tr(e._key,"relevance",null)||0);var c=r*(o/100);return Object(C.b)(Object(C.p)(c),"Impact pseudo-rating is null. @combinedTruthOfPremises:".concat(r," @relevance:").concat(o)),{node:e._key,type:"impact",user:n,updated:null,value:Object(C.c)(100*c).RoundTo(1)}}}),Zn=Object(R.s)(function(e){return function(e,t){if(Object(C.c)(t).Any(function(e){return null==e}))return C.G;if(0==t.length)return C.F;var n=Object(C.c)(t).ToMap(function(e,t){return"childForm_".concat(t)},function(t){return qe(t,e)});Object.assign({},n).argumentType=e.current.argumentType;var r={},a=!0,i=!1,o=void 0;try{for(var c,l=Jn(e._key,"relevance").map(function(e){return e.user})[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){r[c.value]=!0}}catch(q){i=!0,o=q}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}var u=!0,s=!1,d=void 0;try{for(var p,f=t[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var b=p.value,h=!0,y=!1,v=void 0;try{for(var m,O=Jn(b._key,"truth").map(function(e){return e.user})[Symbol.iterator]();!(h=(m=O.next()).done);h=!0){r[m.value]=!0}}catch(q){y=!0,v=q}finally{try{h||null==O.return||O.return()}finally{if(y)throw v}}}}catch(q){s=!0,d=q}finally{try{u||null==f.return||f.return()}finally{if(s)throw d}}var j=!0,g=!1,D=void 0;try{for(var w,I=t[Symbol.iterator]();!(j=(w=I.next()).done);j=!0){var k=w.value,_=Jn(k._key,Ce(k)),N=!0,P=!1,A=void 0;try{for(var E,R=_.map(function(e){return e.user})[Symbol.iterator]();!(N=(E=R.next()).done);N=!0){r[E.value]=!0}}catch(q){P=!0,A=q}finally{try{N||null==R.return||R.return()}finally{if(P)throw A}}}}catch(q){g=!0,D=q}finally{try{j||null==I.return||I.return()}finally{if(g)throw D}}var S=[],T=!0,x=!1,M=void 0;try{for(var U,V=Object(C.c)(r).VKeys()[Symbol.iterator]();!(T=(U=V.next()).done);T=!0){var G=U.value;S.push(Qn(e,t,G))}}catch(q){x=!0,M=q}finally{try{T||null==V.return||V.return()}finally{if(x)throw M}}return S}}),Jn=Object(R.s)(function(e){return function(e,t,n){if("impact"==t){var r=Ue(e);if(void 0===r)return C.G;var i=st(e);if(Object(C.c)(i).Any(function(e){return null==e}))return C.G;var o=i.filter(function(e){return null==e||e.type==a.Claim});return Zn(r,o)}return Object(R.k)({queryOps:[new R.w("node","==",e),new R.w("type","==",t),n&&new R.w("user","==",n)].filter(function(e){return e})},function(e){return e.nodeRatings})}}),Hn=Object(R.s)(function(e){return function(e,t,n){return Jn(e,t,n)[0]}}),er=Object(R.s)(function(e){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=Hn(e,t,n);return a?a.value:r}}),tr=Object(R.s)(function(e){return function(e,t,n){var r=Ue(e);if(r&&r.current.votingDisabled)return 100;var a=Jn(e,t,n);if(0==a.length)return null;var i=Object(C.c)(Object(C.c)(a.map(function(e){return e.value})).Average()).RoundTo(1);return Object(C.b)(i>=0&&i<=100,"Rating-average (".concat(i,") not in range. Invalid ratings: ").concat(Object(C.B)(a.map(function(e){return e.value}).filter(function(e){return!Object(C.p)(e)})))),i}}),nr=Object(R.s)(function(e){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=tr(e._key,t,n);return null==a?r:(function(e,t){return e.link.form==U.Negation}(e)&&(a=100-a),a)}});!function(e){e[e.Votes=10]="Votes",e[e.ReasonScore=20]="ReasonScore"}(Yn||(Yn={}));var rr=[a.Argument,a.Claim];Object(R.s)(function(e){return function(e,t,n,r){var i,o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yn.Votes,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(r=r||(i={},Object(S.a)(i,We.Truth,"truth"),Object(S.a)(i,We.Relevance,"relevance"),i)[n]||Ce(e),c==Yn.Votes||!(null===(o=rr)||void 0===o?void 0:o.includes(e.type))){var s=nr(e,r,l,u);return Object(C.b)(s>=0&&s<=100,"Fill-percent (".concat(s,") not in range.")),s}var d,p=Wn(e._key,t),f=p.argTruthScoreComposite,b=p.argWeightMultiplier,h=p.claimTruthScore;return e.type==a.Claim?d=100*h:e.type==a.Argument&&(d=n==We.Relevance?Object(C.u)(0,100,b):100*f),Object(C.b)(d>=0&&d<=100,"Fill-percent (".concat(d,") not in range.")),d}}),Object(R.s)(function(e){return function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yn.Votes;if(r=r||(a={},Object(S.a)(a,We.Truth,"truth"),Object(S.a)(a,We.Relevance,"relevance"),a)[n]||Ce(e),i==Yn.Votes||!rr.includes(e.type))return nr(e,r,Q())}});R.g,R.g;var ar=Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.users_private.get(e)})}}),ir=(R.g,function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o});Object(R.b)("Update".concat("Image","Details_payload"),["Image"],function(){return{properties:{id:{type:"string"},updates:Object(R.o)({properties:Object(C.c)(Object(R.l)("Image").properties).Including("name","type","url","description","previewWidth","sourceChains")})},required:["id","updates"]}});var or=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("Update".concat("Image","Details_payload"),this.payload,"Payload invalid");var e=this.payload,t=e.id,n=e.updates;this.oldData=ae(t),Object(R.d)(this.oldData,"oldData is null."),this.newData=Object.assign(Object.assign({},this.oldData),n),Object(R.e)("Image",this.newData,"New-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.id;return Object(S.a)({},"images/".concat(e),this.newData)}}]),t}(R.g);or=ir([H],or);var cr=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("UpdateLink_payload",["ChildEntry"],function(){return{properties:{linkParentID:{type:"string"},linkChildID:{type:"string"},linkUpdates:Object(R.o)({properties:Object(C.c)(Object(R.l)("ChildEntry").properties).Including("form","polarity")})},required:["linkParentID","linkChildID","linkUpdates"]}});var lr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("UpdateLink_payload",this.payload,"Payload invalid");var e=this.payload,t=e.linkParentID,n=e.linkChildID,r=e.linkUpdates,a=Je(t);Object(R.d)(a,"parent is null.");var i=Be(n,a);this.newData=Object.assign(Object.assign({},i),r),Object(R.e)("ChildEntry",this.newData,"New link-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload,t=e.linkParentID,n=e.linkChildID,r={};return r["nodes/".concat(t,"/.children/.").concat(n)]=this.newData,r}}]),t}(R.g);lr=cr([H],lr);var ur=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("Update".concat("Map","Details_payload"),["Map"],function(){return{properties:{id:{type:"string"},updates:Object(R.o)({properties:Object(C.c)(Object(R.l)("Map").properties).Including("name","note","noteLine","defaultExpandDepth","defaultTimelineID","requireMapEditorsCanEdit","nodeDefaults","editorIDs")})},required:["id","updates"]}});var sr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("Update".concat("Map","Details_payload"),this.payload,"Payload invalid");var e=this.payload,t=e.id,n=e.updates;this.oldData=z(t),Object(R.d)(this.oldData,"oldData is null."),this.newData=Object.assign(Object.assign({},this.oldData),n),this.newData.editedAt=Date.now(),Object(R.e)("Map",this.newData,"New ".concat("Map".toLowerCase(),"-data invalid"))}},{key:"GetDBUpdates",value:function(){var e=this.payload.id,t={};return t["maps/".concat(e)]=this.newData,t}}]),t}(R.g);sr=ur([J("id"),H],sr);var dr=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},pr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)({properties:{mapID:{type:"string"},nodeID:{type:"string"},childrenOrder:{items:{type:"string"}}},required:["nodeID","childrenOrder"]},this.payload,"Payload invalid");var e=this.payload,t=(e.mapID,e.nodeID),n=e.childrenOrder;this.oldNodeData=Je(t),Object(R.d)(this.oldNodeData,"oldNodeData is null."),this.newNodeData=Object.assign(Object.assign({},this.oldNodeData),{childrenOrder:n}),Object(R.e)("MapNode",this.newNodeData,"New node-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.nodeID,t={};return t["nodes/".concat(e)]=this.newNodeData,t}}]),t}(R.g);pr=dr([J,H],pr);var fr=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("Update".concat("MapNodeTag","_payload"),["MapNodeTag"],function(){var e;return{properties:{id:{type:"string"},updates:Object(R.o)({properties:(e=Object(C.c)(Object(R.l)("MapNodeTag").properties)).Including.apply(e,["nodes"].concat(Object(T.a)(be))),minProperties:1})},required:["id","updates"]}});var br=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("Update".concat("MapNodeTag","_payload"),this.payload,"Payload invalid");var e=this.payload,t=e.id,n=e.updates;this.oldData=R.a.NonNull=je(t),Object(R.d)(Ae(this.userInfo.id,this.oldData),"User is not the tag's creator, or a moderator."),this.newData=Object.assign(Object.assign({},this.oldData),n),Object(R.e)("MapNodeTag",this.newData,"New ".concat("MapNodeTag".toLowerCase(),"-data invalid"))}},{key:"GetDBUpdates",value:function(){var e=this.payload.id,t={};return t["nodeTags/".concat(e)]=this.newData,t}}]),t}(R.g);br=fr([H],br);var hr=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("Update".concat("MapNodePhrasing","_payload"),["MapNodePhrasing"],function(){return{properties:{id:{type:"string"},updates:Object(R.o)({properties:Object(C.c)(Object(R.l)("MapNodePhrasing").properties).Including("type","text","description")})},required:["id","updates"]}});var yr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("Update".concat("MapNodePhrasing","_payload"),this.payload,"Payload invalid");var e=this.payload,t=e.id,n=e.updates;this.oldData=mn(t),Object(R.d)(this.oldData,"oldData is null."),this.newData=Object.assign(Object.assign({},this.oldData),n),Object(R.e)("MapNodePhrasing",this.newData,"New ".concat("MapNodePhrasing".toLowerCase(),"-data invalid"))}},{key:"GetDBUpdates",value:function(){var e=this.payload.id,t={};return t["nodePhrasings/".concat(e)]=this.newData,t}}]),t}(R.g);yr=hr([H],yr);var vr=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("Update".concat("Term","_payload"),["Term"],function(){return{properties:{id:{type:"string"},updates:Object(R.o)({properties:Object(C.c)(Object(R.l)("Term").properties).Including("name","forms","disambiguation","type","definition","note")})},required:["id","updates"]}});var mr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e=this.payload,t=e.termID,n=e.updates;this.oldData=gn(t),Object(R.d)(this.oldData,"oldData is null."),this.newData=Object.assign(Object.assign({},this.oldData),n),Object(R.e)("Term",this.newData,"New-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.termID,t=Object(S.a)({},"terms/".concat(e),this.newData);return this.newData.name!=this.oldData.name&&(t["termNames/".concat(this.oldData.name.toLowerCase(),"/.").concat(e)]=null,t["termNames/".concat(this.newData.name.toLowerCase(),"/.").concat(e)]=!0),t}}]),t}(R.g);mr=vr([H],mr);Object(R.b)("Update".concat("Timeline","_payload"),["Timeline"],function(){return{properties:{id:{type:"string"},updates:Object(R.o)({properties:Object(C.c)(Object(R.l)("Timeline").properties).Including("name","videoID","videoStartTime","videoHeightVSWidthPercent")})},required:["id","updates"]}});R.g;var Or=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object(R.b)("UpdateTimelineStep_payload",["TimelineStep"],function(){return{properties:{stepID:{type:"string"},stepUpdates:Object(R.o)({properties:Object(C.c)(Object(R.l)("TimelineStep").properties).Including("title","message","groupID","videoTime","nodeReveals")})},required:["stepID","stepUpdates"]}});var jr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){Object(R.e)("UpdateTimelineStep_payload",this.payload,"Payload invalid");var e=this.payload,t=e.stepID,n=e.stepUpdates;this.oldData=_n(t),Object(R.d)(this.oldData,"oldData is null."),this.newData=Object.assign(Object.assign({},this.oldData),n),Object(R.e)("TimelineStep",this.newData,"New timeline-step-data invalid")}},{key:"GetDBUpdates",value:function(){var e=this.payload.stepID,t={};return t["timelineSteps/".concat(e)]=this.newData,t}}]),t}(R.g);jr=Or([H],jr);var gr=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Dr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"Validate",value:function(){var e,t=this.payload,n=t.timelineID,r=t.stepID,a=t.newIndex,i=Ft(n);Object(R.d)(i,"timeline is null."),this.timeline_oldSteps=null!==(e=i.steps)&&void 0!==e?e:[],this.timeline_newSteps=this.timeline_oldSteps.slice(),Object(C.c)(this.timeline_newSteps).Move(r,a,!1)}},{key:"GetDBUpdates",value:function(){var e=this.payload.timelineID;return Object(S.a)({},"timelines/".concat(e,"/.steps"),this.timeline_newSteps)}}]),t}(R.g);Dr=gr([H],Dr);var wr;R.g;Object(R.b)("Layer",{properties:{name:{type:"string"},creator:{type:"string"},createdAt:{type:"number"},mapsWhereEnabled:{patternProperties:Object(S.a)({},R.t,{type:"boolean"})},nodeSubnodes:{patternProperties:Object(S.a)({},R.t,{$ref:"LayerNodeSubnodes"})}},required:["name","creator","createdAt"]}),Object(R.b)("LayerNodeSubnodes",{patternProperties:Object(S.a)({},R.t,{type:"boolean"})});var Ir;Object(R.b)("NodeEditTimes",{patternProperties:Object(S.a)({},R.t,{type:"number"})}),function(e){e[e.Add=10]="Add",e[e.Edit=20]="Edit",e[e.Remove=30]="Remove"}(Ir||(Ir={}));wr={},Object(S.a)(wr,Ir.Add,"0,255,0"),Object(S.a)(wr,Ir.Edit,"255,255,0"),Object(S.a)(wr,Ir.Remove,"255,0,0");Object(R.s)(function(e){return function(e){return Object(R.j)({},function(t){return t.mapNodeEditTimes.get(e)})}});Object(R.s)(function(e){return function(e){var t=z(e);return null==t?null:t.rootNode}});var kr,_r=Object(R.s)(function(e){return function(e){var t,n=z(e);return null==n?null:null!==(t=n.editorIDs)&&void 0!==t?t:C.F}});Object(R.s)(function(e){return function(e){return _r(e).map(function(e){return Z(e)})}});Object(R.b)("MapNodePhrasing",{properties:{node:{type:"string"},type:{$ref:"MapNodePhrasingType"},text:{type:"string"},description:{type:"string"},creator:{type:"string"},createdAt:{type:"number"}},required:["node","type","text","creator","createdAt"]}),function(e){e[e.Precise=10]="Precise",e[e.Natural=20]="Natural"}(kr||(kr={})),Object(R.b)("MapNodePhrasingType",{oneOf:Object(C.l)(kr)});Object(R.b)("RatingType",{oneOf:["significance","neutrality","truth","relevance","impact"].map(function(e){return{const:e}})});Object(R.b)("TermAttachment",{properties:{id:{type:"string"}},required:["id"]});var Nr;Object(R.b)("Term",{properties:{name:{type:"string",pattern:"^[a-zA-Z0-9 ,'\"%-]+$"},disambiguation:{type:"string",pattern:"^[a-zA-Z0-9 ,'\"%-\\/]+$"},type:{$ref:"TermType"},forms:{items:{type:"string",pattern:"^[^A-Z]+$"},minItems:1,uniqueItems:!0},definition:{type:"string",pattern:"^(.|\n)+$"},note:{type:"string"},creator:{type:"string"},createdAt:{type:"number"}},required:["name","forms","type","definition","creator","createdAt"]}),function(e){e[e.CommonNoun=10]="CommonNoun",e[e.ProperNoun=20]="ProperNoun",e[e.Adjective=30]="Adjective",e[e.Verb=40]="Verb",e[e.Adverb=50]="Adverb"}(Nr||(Nr={})),Object(R.b)("TermType",{oneOf:Object(C.l)(Nr)});Object(R.b)("TimelineStep",{properties:{timelineID:{type:"string"},title:{type:"string"},groupID:{type:["number","null"]},videoTime:{type:["number","null"]},message:{type:"string"},nodeReveals:{$ref:"NodeReveal"}},required:["timelineID"]});Object(R.b)("NodeReveal",{properties:{path:{type:"string"},show:{type:"boolean"},show_revealDepth:{type:"number"},hide:{type:"boolean"}},required:["path"]});Object(R.b)("Timeline",{properties:{mapID:{type:"string"},name:{type:"string"},creator:{type:"string"},createdAt:{type:"number"},videoID:{type:["string","null"]},videoStartTime:{type:["number","null"]},videoHeightVSWidthPercent:{type:"number"},steps:{items:{type:"string"}}},required:["mapID","name","creator","createdAt"]});Object(R.b)("UserID",{pattern:"^[a-zA-Z0-9]+$"});Object(R.b)("User",{properties:{displayName:{type:"string"},photoURL:{type:"string"},joinDate:{type:"number"},permissionGroups:{$ref:"PermissionGroupSet"},edits:{type:"number"},lastEditAt:{type:"number"}}});Object(R.b)("PermissionGroupSet",{properties:{basic:{type:"boolean"},verified:{type:"boolean"},mod:{type:"boolean"},admin:{type:"boolean"}}});n(92);function Pr(e){var t=e.current.titles.base;return t=t.replace(/(^|\W)CC(\W|$)/g,"$1Climate Change$2")}var Ar=Object(R.s)(function(e){return function(){var e=st(Cr);return e.sort(function(e,t){return e.createdAt-t.createdAt}),e}}),Er=Object(R.s)(function(e){return function(e){return st(e)}}),Rr=Object(R.s)(function(e){return function(e){return st(e)}}),Cr="v3RJAZH0Tr-nUjjvKd_39g",Sr=Object(E.a)(function(e){var t=Ar(),n=t.map(function(e){return Er(e._key)});return i.createElement("main",{className:"page questions"},i.createElement(D,{duration:200,animation:"fadeOut",options:"once"}),i.createElement("section",{className:"top-container"},i.createElement(_,{title:"Select your debate question"}),i.createElement(N,{exploreScore:38})),i.createElement("section",{className:"bottom-container"},i.createElement("div",{className:"question-list-container paper-background"},i.createElement("ul",{className:"question-list scroll-list"},t.map(function(e,t){return i.createElement("li",{key:t},i.createElement(b.b,{to:"/positions/".concat(e._key)},i.createElement("span",{className:"question-number"},t+1),i.createElement("span",{className:"question"},Pr(e))),i.createElement("div",{className:"circle circle-s bezel-xs drop-shadow"},i.createElement("p",null,n[t].length),i.createElement("p",null,"positions")))}))),i.createElement("p",{className:"tip"},"Tip: Start with the first question and work your way through")))}),Tr=(n(354),function(e){var t=e.title,n=e.positionCount,r=e.exploreScore,a=e.ctaUrl;return o.a.createElement("div",{className:"position"},n&&n>-1&&o.a.createElement("div",{className:"position-count circle circle-s bezel-xs drop-shadow"},o.a.createElement("p",null,n),o.a.createElement("p",null,"positions")),void 0!==r&&r>-1&&o.a.createElement(N,{exploreScore:r,size:"s"}),o.a.createElement("div",{className:"speech-bubble drop-shadow"},o.a.createElement("h3",{className:"position-title text-size-m"},a?o.a.createElement(b.b,{to:a},t):t),a&&o.a.createElement("p",null,o.a.createElement(b.b,{to:a},"Explore >"))))}),xr=(n(355),Object(E.a)(function(e){var t=Object(h.e)().id,n=Ue(t);if(null==n)return null;var r=Er(t);return i.createElement("main",{className:"page positions"},i.createElement(D,{duration:200,animation:"fadeOut",options:"once"}),i.createElement("section",{className:"top-container bezel-l"},i.createElement(_,{title:Pr(n),titleSize:"l",subtitle:"Start exploring positions"})),i.createElement("section",{className:"bottom-container scroll-gradient-top scroll-gradient-bottom "},i.createElement("div",{className:"positions-container"},r.map(function(e,t){return i.createElement(Tr,{key:t,title:Pr(e),positionCount:r.length,exploreScore:0,ctaUrl:"/reasons/".concat(e._key)})}))))})),Mr=(n(356),function(e){var t=e.title,n=e.ctaUrl;return o.a.createElement("div",{className:"reason rectangle"},n&&o.a.createElement(b.b,{to:n},"Explore >"),o.a.createElement("h3",null,t))}),Ur=(n(357),Object(E.a)(function(e){var t=Object(h.e)().id,n=Ue(t);if(null==n)return null;var r=Rr(t);return i.createElement("main",{className:"page reasons"},i.createElement("section",{className:"top-container bezel-l"},i.createElement(Tr,{title:Pr(n),positionCount:r.length,exploreScore:0}),i.createElement(_,{title:Pr(n),titleSize:"m",subtitle:"Explore the reasons that support this position",subtitleSize:"xs"})),i.createElement("section",{className:"scroll-gradient-top scroll-gradient-bottom bottom-container"},i.createElement("ul",{className:"reasons-list scroll-list"},r.map(function(e,t){return i.createElement("li",{key:t},i.createElement(Mr,{title:Pr(e),ctaUrl:"reasons"}))}))))})),Vr=function(e){return null},Gr=function(e){return null},qr=(n(358),n(61)),Br=n.n(qr),$r={apiKey:"AIzaSyCnvv_m-L08i4b5NmxGF5doSwQ2uJZ8i-0",authDomain:"debate-map-prod.firebaseapp.com",databaseURL:"https://debate-map-prod.firebaseio.com",projectId:"debate-map-prod",storageBucket:"debate-map-prod.appspot.com"},Fr="versions/v".concat(12,"-").concat("prod"),Lr={};!function(){var e,t;Br.a.initializeApp($r),e=Fr,t=Lr,Y.Initialize({rootPathInDB:e,rootStore:t})}();var Xr=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,{basename:"/"},o.a.createElement("div",{className:"app"},o.a.createElement(g,null),o.a.createElement(h.a,{path:"/questions",component:Sr}),o.a.createElement(h.a,{path:"/positions/:id",component:xr}),o.a.createElement(h.a,{path:"/reasons/:id",component:Ur}),o.a.createElement(h.a,{path:"/argument",component:Vr}),o.a.createElement(h.a,{path:"/claim",component:Gr}),o.a.createElement(h.a,{path:"/debates",component:A}),o.a.createElement(h.a,{exact:!0,path:"/",component:k})))}}]),t}(i.Component);n(359);l.a.render(o.a.createElement(Xr),document.getElementById("root"))},92:function(e,t,n){"use strict";n.r(t),n.d(t,"User_Private",function(){return i});var r=n(3),a=n(0),i=function e(){Object(r.a)(this,e)};Object(a.b)("User_Private",{properties:{email:{type:"string"},providerData:{type:"array"},backgroundID:{type:"string"},backgroundCustom_enabled:{type:"boolean"},backgroundCustom_color:{type:["null","string"]},backgroundCustom_url:{type:"string"},backgroundCustom_position:{type:"string"}}})}},[[143,1,2]]]);
//# sourceMappingURL=main.b2f08fe7.chunk.js.map